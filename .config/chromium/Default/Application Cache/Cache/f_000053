define("HubsExtension/Deployments/DeploymentsCommon",["require","exports","f","ko","FxHubs/MarketplaceRpc","HubsExtension/Deployments/DeploymentsClientStrings","moment","HubsExtension/ArmHelpers/ArmApisStartup"],(function(n,t,i,r,u,f,e,o){"use strict";var s=i.Base,c=s.Diagnostics,l=i.Data.QueryCache,a=i.Data.EntityCache,h;return (function(t){function ut(n){if(i.isPlainObject(n))return r.toJS(n);try{return JSON.parse(n)}catch(t){}return null}function w(n){var i="/{0}/{1}".format(n,it);return t.quickStartTemplateDownloadUri?t.quickStartTemplateDownloadUri+i:i}function b(n){return h(n).then((function(n){return n})).catch((function(t){return tt.error("Error getting quickstart template metadata from {0}. Error: {1}".format(n,t.jqXHR&&t.jqXHR.status)),""}))}function ft(n){var t=e.duration(n),i="",r=t.days(),u=t.hours(),o=t.minutes(),s=t.seconds();return r&&(i+=(r>1?f.days.format(r):f.day.format(r))+" "),u&&(i+=(u>1?f.hours.format(u):f.hour.format(u))+" "),o&&(i+=(o>1?f.minutes.format(o):f.minute.format(
o))+" "),s&&(i+=(s>1?f.seconds.format(s):f.second.format(s))+" "),i.trim()||f.seconds.format(t.asSeconds())}function et(n){return n&&y(p,(function(t,r){var u=r.replacementString;r.onlyStartsWith?n.startsWith(t)&&(n=n.replace(t,u)):n=i.replaceAll(n,t,u)})),n}function ot(n){return n&&y(p,(function(t,r){var u=r.replacementString;r.onlyStartsWith?n.startsWith(u)&&(n=n.replace(u,t)):n=i.replaceAll(n,u,t)})),n}function st(n,t,r,f,e){var s=i.newGuid(),o=Q.defer();n.selectable.delayedBladeSelection({bladeWidth:0,selectedValuePromise:o.promise});(e||Q(null)).then((function(n){u.getCreateFlow({marketplaceGalleryItemId:t,launchingContext:{telemetryId:s,source:[r]},dontDiscardJourney:!0,additionalConfig:n},f).then((function(n){o.resolve(n.bladeSelection)}))}))}function ht(n,t){var i=n+"/exportTemplate?api-version=2015-11-01",r=o.makeResourceManagerTelemetry("Deployments.loadTemplate");return o.call(i,"POST",null,t,r).then((function(n){return n.template}))}function h(n,t){return t===void 0&&(t="GET"),nt({uri:
n,type:t,setAuthorizationHeader:!1,useRawAjax:!0})}function ct(n,t){if(!n)throw"templateUri is null or undefined";var i=new s.UriBuilder(s.Resources.getAppRelativeUri("/api/templates/loadtemplate"));return i.query.setParameters({templateUri:n}),s.Net2.Internal.ajaxExtended({cloudName:t,uri:i.toString(),type:"GET"}).then((function(n){return JSON.stringify(n.content,null,4)}))}function lt(n){var r=[],u,t;if(n)try{u=JSON.parse(n);t=u.resources;t.length&&t.forEach((function(n){var t=n.type,i;typeof t=="string"&&(i=t.split("/")[0],r.push(i.toLowerCase()))}))}catch(f){}return i.unique(r)}function k(n){if(!n)throw"folder name is null or empty";var i="/{0}/{1}".format(n,rt);return t.quickStartTemplateDownloadUri?t.quickStartTemplateDownloadUri+i:i}function at(n){return h(k(n))}var g=window,v=g.fx.environment,y=i.forEachKey,nt=i.Base.Net2.ajax,tt=c.createLog(n),d;t.quickStartTemplatesUri=v.quickStartTemplatesUri;t.quickStartTemplateDownloadUri=v.quickStartTemplateDownloadUri;var it="metadata.json",
rt="azuredeploy.json",p={_:{onlyStartsWith:!0,replacementString:"'_"},".":{onlyStartsWith:!1,replacementString:"''"}};t.getTemplateObject=ut;t.getMetadaUri=w;t.getMetadataFile=b;t.parseISODuration=ft;t.getNormalizedParamNameForEditScope=et;t.getOriginalParamName=ot;t.launchCreateExperience=st;t.loadTemplateFromDeployment=ht;t.loadTemplate=ct;t.getResourceProvidersFromTemplate=lt;t.getQuickstartTemplateUri=k;t.loadAzureDeployTemplate=at;d=(function(){function n(){this.quickStartTemplatesQueryCache=new l({sourceUri:function(){return t.quickStartTemplatesUri},poll:!1,extendEntryLifetimes:!0,httpMethod:"GET",supplyData:function(n,t){return h(t).then((function(n){return n.reduce((function(n,t){var i=t.name;return t.type==="dir"&&!i.startsWith(".")&&!i.startsWith("1-")&&i.toLowerCase()!=="test"?n.concat(i):n}),[])}))}});this.quickStartTemplateMetadataEntityCache=new a({sourceUri:function(n){return w(n)},poll:!1,evictionDelay:6e4,httpMethod:"GET",supplyData:function(n,t){return b(t)}})}return n})();
t.DataContext$Contract=d})(h||(h={})),h}));define("HubsExtension/Deployments/ViewModels/EditorViewModel",["require","exports","f"],(function(n,t,i){"use strict";var r;return (function(n){var t=i.ViewModels.Controls.Documents.Editor,r=t.ViewModel,u={id:"http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",$schema:"http://json-schema.org/draft-04/schema#",title:"Template",description:"An Azure deployment template",type:"object",properties:{$schema:{type:"string",description:"JSON schema reference"},contentVersion:{type:"string",pattern:"(^[0-9]+\\.[0-9]+\\.[0-9]+\\.[0-9]+$)",description:"A 4 number format for the version number of this template file. For example, 1.0.0.0"},variables:{type:"object",description:"Variable definitions"},parameters:{type:"object",description:"Input parameter definitions",additionalProperties:{$ref:"#/definitions/parameter"}},resources:{type:"array",description:"Collection of resources to be deployed",items:{oneOf:[{allOf:[{$ref:"#/definitions/resourceBase"},
{oneOf:[{$ref:"http://schema.management.azure.com/schemas/2016-06-01/Microsoft.RecoveryServices.json#/resourceDefinitions/vaults"},{$ref:"http://schema.management.azure.com/schemas/2015-07-01-preview/Microsoft.ServerManagement.json#/resourceDefinitions/nodes"},{$ref:"http://schema.management.azure.com/schemas/2015-07-01-preview/Microsoft.ServerManagement.json#/resourceDefinitions/gateways"},{$ref:"http://schema.management.azure.com/schemas/2015-07-01-preview/Microsoft.ServerManagement.json#/resourceDefinitions/sessions"},{$ref:"http://schema.management.azure.com/schemas/2015-04-08/Microsoft.DocumentDB.json#/resourceDefinitions/databaseAccounts"},{$ref:"http://schema.management.azure.com/schemas/2015-06-01/Microsoft.KeyVault.json#/resourceDefinitions/secrets"},{$ref:"http://schema.management.azure.com/schemas/2016-05-15/Microsoft.DevTestLab.json#/resourceDefinitions/labs"},{$ref:"http://schema.management.azure.com/schemas/2016-05-15/Microsoft.DevTestLab.json#/resourceDefinitions/labs_artifactsources"},
{$ref:"http://schema.management.azure.com/schemas/2016-05-15/Microsoft.DevTestLab.json#/resourceDefinitions/labs_customimages"},{$ref:"http://schema.management.azure.com/schemas/2016-05-15/Microsoft.DevTestLab.json#/resourceDefinitions/labs_formulas"},{$ref:"http://schema.management.azure.com/schemas/2016-05-15/Microsoft.DevTestLab.json#/resourceDefinitions/labs_policysets_policies"},{$ref:"http://schema.management.azure.com/schemas/2016-05-15/Microsoft.DevTestLab.json#/resourceDefinitions/labs_schedules"},{$ref:"http://schema.management.azure.com/schemas/2016-05-15/Microsoft.DevTestLab.json#/resourceDefinitions/labs_virtualmachines"},{$ref:"http://schema.management.azure.com/schemas/2016-05-15/Microsoft.DevTestLab.json#/resourceDefinitions/labs_virtualnetworks"},{$ref:"http://schema.management.azure.com/schemas/2015-05-21-preview/Microsoft.DevTestLab.json#/resourceDefinitions/labs"},{$ref:"http://schema.management.azure.com/schemas/2015-05-21-preview/Microsoft.DevTestLab.json#/resourceDefinitions/virtualMachines"},
{$ref:"http://schema.management.azure.com/schemas/2014-06-01/Microsoft.Web.json#/resourceDefinitions/certificates"},{$ref:"http://schema.management.azure.com/schemas/2014-06-01/Microsoft.Web.json#/resourceDefinitions/serverfarms"},{$ref:"http://schema.management.azure.com/schemas/2015-08-01/Microsoft.Web.json#/resourceDefinitions/certificates"},{$ref:"http://schema.management.azure.com/schemas/2015-08-01/Microsoft.Web.json#/resourceDefinitions/serverfarms"},{$ref:"http://schema.management.azure.com/schemas/2014-04-01-preview/Microsoft.Sql.json#/resourceDefinitions/databases"},{$ref:"http://schema.management.azure.com/schemas/2014-04-01-preview/Microsoft.Sql.json#/resourceDefinitions/firewallrules"},{$ref:"http://schema.management.azure.com/schemas/2014-04-01/Microsoft.Insights.json#/resourceDefinitions/alertrules"},{$ref:"http://schema.management.azure.com/schemas/2014-04-01/Microsoft.Insights.json#/resourceDefinitions/components"},{$ref:"http://schema.management.azure.com/schemas/2014-04-01/Microsoft.Insights.json#/resourceDefinitions/autoscalesettings"},
{$ref:"http://schema.management.azure.com/schemas/2014-04-01/Microsoft.Insights.json#/resourceDefinitions/webtests"},{$ref:"http://schema.management.azure.com/schemas/2014-02-26/microsoft.visualstudio.json#/resourceDefinitions/account"},{$ref:"http://schema.management.azure.com/schemas/2014-04-01-preview/Microsoft.Cache.json#/resourceDefinitions/Redis"},{$ref:"http://schema.management.azure.com/schemas/2014-04-01/Microsoft.BizTalkServices.json#/resourceDefinitions/BizTalk"},{$ref:"http://schema.management.azure.com/schemas/2014-04-01/Microsoft.BizTalkServices.json#/resourceDefinitions/HybridConnection"},{$ref:"http://schema.management.azure.com/schemas/2015-03-01-preview/Microsoft.AppService.json#/resourceDefinitions/apiapps"},{$ref:"http://schema.management.azure.com/schemas/2015-03-01-preview/Microsoft.AppService.json#/resourceDefinitions/registrations"},{$ref:"http://schema.management.azure.com/schemas/2015-04-01/Microsoft.NotificationHubs.json#/resourceDefinitions/notificationHubs"},
{$ref:"http://schema.management.azure.com/schemas/2015-08-01-preview/Microsoft.DataConnect.json#/resourceDefinitions/connectionManagers"},{$ref:"http://schema.management.azure.com/schemas/2015-08-01/Microsoft.Cache.json#/resourceDefinitions/Redis"},{$ref:"http://schema.management.azure.com/schemas/2015-08-01/Microsoft.Network.json#/resourceDefinitions/publicIPAddresses"},{$ref:"http://schema.management.azure.com/schemas/2015-08-01/Microsoft.Network.json#/resourceDefinitions/virtualNetworks"},{$ref:"http://schema.management.azure.com/schemas/2015-08-01/Microsoft.Network.json#/resourceDefinitions/loadBalancers"},{$ref:"http://schema.management.azure.com/schemas/2015-08-01/Microsoft.Network.json#/resourceDefinitions/networkSecurityGroups"},{$ref:"http://schema.management.azure.com/schemas/2015-08-01/Microsoft.Network.json#/resourceDefinitions/networkInterfaces"},{$ref:"http://schema.management.azure.com/schemas/2015-08-01/Microsoft.Network.json#/resourceDefinitions/routeTables"},{$ref:"http://schema.management.azure.com/schemas/2015-11-01/Microsoft.Network.json#/resourceDefinitions/trafficManagerProfiles"},
{$ref:"http://schema.management.azure.com/schemas/2015-08-01/Microsoft.Storage.json#/resourceDefinitions/storageAccounts"},{$ref:"http://schema.management.azure.com/schemas/2016-01-01/Microsoft.Storage.json#/resourceDefinitions/storageAccounts"},{$ref:"http://schema.management.azure.com/schemas/2015-08-01/Microsoft.Compute.json#/resourceDefinitions/availabilitySets"},{$ref:"http://schema.management.azure.com/schemas/2015-08-01/Microsoft.Compute.json#/resourceDefinitions/extensions"},{$ref:"http://schema.management.azure.com/schemas/2015-08-01/Microsoft.Compute.json#/resourceDefinitions/virtualMachineScaleSets"},{$ref:"http://schema.management.azure.com/schemas/2015-06-01/Microsoft.KeyVault.json#/resourceDefinitions/vaults"},{$ref:"http://schema.management.azure.com/schemas/2014-06-01/Microsoft.Web.json#/resourceDefinitions/sites"},{$ref:"http://schema.management.azure.com/schemas/2015-08-01/Microsoft.Web.json#/resourceDefinitions/sites"},{$ref:"http://schema.management.azure.com/schemas/2014-04-01-preview/Microsoft.Sql.json#/resourceDefinitions/servers"},
{$ref:"http://schema.management.azure.com/schemas/2014-08-01-preview/Microsoft.Scheduler.json#/resourceDefinitions/jobCollections"},{$ref:"http://schema.management.azure.com/schemas/2015-03-01-preview/Microsoft.AppService.json#/resourceDefinitions/gateways"},{$ref:"http://schema.management.azure.com/schemas/2015-04-01/Microsoft.NotificationHubs.json#/resourceDefinitions/namespaces"},{$ref:"http://schema.management.azure.com/schemas/2015-08-01/Microsoft.Compute.json#/resourceDefinitions/virtualMachines"},{$ref:"http://schema.management.azure.com/schemas/2015-10-01-preview/Microsoft.DataLakeStore.json#/resourceDefinitions/accounts"},{$ref:"http://schema.management.azure.com/schemas/2015-10-01-preview/Microsoft.DataLakeAnalytics.json#/resourceDefinitions/accounts"},{$ref:"http://schema.management.azure.com/schemas/2016-02-01-preview/Microsoft.CognitiveServices.json#/resourceDefinitions/accounts"},{$ref:"http://schema.management.azure.com/schemas/2016-01-29/Microsoft.PowerBI.json#/resourceDefinitions/workspaceCollections"},
{$ref:"http://schema.management.azure.com/schemas/2016-03-30/Microsoft.DataCatalog.json#/resourceDefinitions/catalogs"},{$ref:"http://schema.management.azure.com/schemas/2016-03-30/Microsoft.ContainerService.json#/resourceDefinitions/containerServices"},{$ref:"http://schema.management.azure.com/schemas/2015-05-04-preview/Microsoft.Network.json#/resourceDefinitions/dnszones"},{$ref:"http://schema.management.azure.com/schemas/2015-05-04-preview/Microsoft.Network.json#/resourceDefinitions/dnszones_A"},{$ref:"http://schema.management.azure.com/schemas/2015-05-04-preview/Microsoft.Network.json#/resourceDefinitions/dnszones_AAAA"},{$ref:"http://schema.management.azure.com/schemas/2015-05-04-preview/Microsoft.Network.json#/resourceDefinitions/dnszones_CNAME"},{$ref:"http://schema.management.azure.com/schemas/2015-05-04-preview/Microsoft.Network.json#/resourceDefinitions/dnszones_MX"},{$ref:"http://schema.management.azure.com/schemas/2015-05-04-preview/Microsoft.Network.json#/resourceDefinitions/dnszones_NS"},
{$ref:"http://schema.management.azure.com/schemas/2015-05-04-preview/Microsoft.Network.json#/resourceDefinitions/dnszones_PTR"},{$ref:"http://schema.management.azure.com/schemas/2015-05-04-preview/Microsoft.Network.json#/resourceDefinitions/dnszones_SOA"},{$ref:"http://schema.management.azure.com/schemas/2015-05-04-preview/Microsoft.Network.json#/resourceDefinitions/dnszones_SRV"},{$ref:"http://schema.management.azure.com/schemas/2015-05-04-preview/Microsoft.Network.json#/resourceDefinitions/dnszones_TXT"},{$ref:"http://schema.management.azure.com/schemas/2016-04-01/Microsoft.Network.json#/resourceDefinitions/dnszones"},{$ref:"http://schema.management.azure.com/schemas/2016-04-01/Microsoft.Network.json#/resourceDefinitions/dnszones_A"},{$ref:"http://schema.management.azure.com/schemas/2016-04-01/Microsoft.Network.json#/resourceDefinitions/dnszones_AAAA"},{$ref:"http://schema.management.azure.com/schemas/2016-04-01/Microsoft.Network.json#/resourceDefinitions/dnszones_CNAME"},{$ref:"http://schema.management.azure.com/schemas/2016-04-01/Microsoft.Network.json#/resourceDefinitions/dnszones_MX"},
{$ref:"http://schema.management.azure.com/schemas/2016-04-01/Microsoft.Network.json#/resourceDefinitions/dnszones_NS"},{$ref:"http://schema.management.azure.com/schemas/2016-04-01/Microsoft.Network.json#/resourceDefinitions/dnszones_PTR"},{$ref:"http://schema.management.azure.com/schemas/2016-04-01/Microsoft.Network.json#/resourceDefinitions/dnszones_SOA"},{$ref:"http://schema.management.azure.com/schemas/2016-04-01/Microsoft.Network.json#/resourceDefinitions/dnszones_SRV"},{$ref:"http://schema.management.azure.com/schemas/2016-04-01/Microsoft.Network.json#/resourceDefinitions/dnszones_TXT"},{$ref:"http://schema.management.azure.com/schemas/2015-06-01/Microsoft.Cdn.json#/resourceDefinitions/profiles"},{$ref:"http://schema.management.azure.com/schemas/2015-06-01/Microsoft.Cdn.json#/resourceDefinitions/profiles_endpoints"},{$ref:"http://schema.management.azure.com/schemas/2015-06-01/Microsoft.Cdn.json#/resourceDefinitions/profiles_endpoints_customDomains"},{$ref:"http://schema.management.azure.com/schemas/2015-06-01/Microsoft.Cdn.json#/resourceDefinitions/profiles_endpoints_origins"},
{$ref:"http://schema.management.azure.com/schemas/2016-04-02/Microsoft.Cdn.json#/resourceDefinitions/profiles"},{$ref:"http://schema.management.azure.com/schemas/2016-04-02/Microsoft.Cdn.json#/resourceDefinitions/profiles_endpoints"},{$ref:"http://schema.management.azure.com/schemas/2016-04-02/Microsoft.Cdn.json#/resourceDefinitions/profiles_endpoints_customDomains"},{$ref:"http://schema.management.azure.com/schemas/2016-04-02/Microsoft.Cdn.json#/resourceDefinitions/profiles_endpoints_origins"},{$ref:"http://schema.management.azure.com/schemas/2015-12-01/Microsoft.Batch.json#/resourceDefinitions/batchAccounts"},{$ref:"http://schema.management.azure.com/schemas/2015-12-01/Microsoft.Batch.json#/resourceDefinitions/batchAccounts_applications"},{$ref:"http://schema.management.azure.com/schemas/2015-12-01/Microsoft.Batch.json#/resourceDefinitions/batchAccounts_applications_versions"},{$ref:"http://schema.management.azure.com/schemas/2016-04-01/Microsoft.Cache.json#/resourceDefinitions/Redis"},
{$ref:"http://schema.management.azure.com/schemas/2015-02-01-preview/Microsoft.Logic.json#/resourceDefinitions/workflows"},{$ref:"http://schema.management.azure.com/schemas/2015-02-01-preview/Microsoft.Logic.json#/resourceDefinitions/workflows_accessKeys"},{$ref:"http://schema.management.azure.com/schemas/2016-06-01/Microsoft.Logic.json#/resourceDefinitions/workflows"},{$ref:"http://schema.management.azure.com/schemas/2016-03-01/Microsoft.Scheduler.json#/resourceDefinitions/jobCollections"},{$ref:"http://schema.management.azure.com/schemas/2016-03-01/Microsoft.Scheduler.json#/resourceDefinitions/jobCollections_jobs"},{$ref:"http://schema.management.azure.com/schemas/2016-05-01-preview/Microsoft.MachineLearning.json#/resourceDefinitions/webServices"},{$ref:"http://schema.management.azure.com/schemas/2016-05-01-preview/Microsoft.MachineLearning.json#/resourceDefinitions/commitmentPlans"},{$ref:"http://schema.management.azure.com/schemas/2016-04-01/Microsoft.MachineLearning.json#/resourceDefinitions/workspaces"},
{$ref:"http://schema.management.azure.com/schemas/2015-10-31/Microsoft.Automation.json#/resourceDefinitions/automationAccounts"},{$ref:"http://schema.management.azure.com/schemas/2015-10-31/Microsoft.Automation.json#/resourceDefinitions/runbooks"},{$ref:"http://schema.management.azure.com/schemas/2015-10-31/Microsoft.Automation.json#/resourceDefinitions/modules"},{$ref:"http://schema.management.azure.com/schemas/2015-10-31/Microsoft.Automation.json#/resourceDefinitions/certificates"},{$ref:"http://schema.management.azure.com/schemas/2015-10-31/Microsoft.Automation.json#/resourceDefinitions/connections"},{$ref:"http://schema.management.azure.com/schemas/2015-10-31/Microsoft.Automation.json#/resourceDefinitions/variables"},{$ref:"http://schema.management.azure.com/schemas/2015-10-31/Microsoft.Automation.json#/resourceDefinitions/schedules"},{$ref:"http://schema.management.azure.com/schemas/2015-10-31/Microsoft.Automation.json#/resourceDefinitions/jobs"},{$ref:"http://schema.management.azure.com/schemas/2015-10-31/Microsoft.Automation.json#/resourceDefinitions/jobSchedules"},
{$ref:"http://schema.management.azure.com/schemas/2015-10-01/Microsoft.Media.json#/resourceDefinitions/mediaServices"},{$ref:"http://schema.management.azure.com/schemas/2015-10-01/Microsoft.DataFactory.json#/resourceDefinitions/dataFactories"},{$ref:"http://schema.management.azure.com/schemas/2015-10-01/Microsoft.DataFactory.json#/resourceDefinitions/linkedServices"},{$ref:"http://schema.management.azure.com/schemas/2015-10-01/Microsoft.DataFactory.json#/resourceDefinitions/datasets"},{$ref:"http://schema.management.azure.com/schemas/2015-10-01/Microsoft.DataFactory.json#/resourceDefinitions/pipelines"},{$ref:"http://schema.management.azure.com/schemas/2016-02-03/Microsoft.Devices.json#/resourceDefinitions/IotHubs"}]}]},{allOf:[{$ref:"#/definitions/resourceBaseExternal"},{oneOf:[{$ref:"http://schema.management.azure.com/schemas/2014-04-01/SuccessBricks.ClearDB.json#/resourceDefinitions/databases"},{$ref:"http://schema.management.azure.com/schemas/2015-01-01/Sendgrid.Email.json#/resourceDefinitions/accounts"}]}]},
{allOf:[{$ref:"#/definitions/ARMResourceBase"},{oneOf:[{$ref:"http://schema.management.azure.com/schemas/2015-01-01/Microsoft.Resources.json#/resourceDefinitions/deployments"},{$ref:"http://schema.management.azure.com/schemas/2016-02-01/Microsoft.Resources.json#/resourceDefinitions/deployments"},{$ref:"http://schema.management.azure.com/schemas/2015-01-01/Microsoft.Resources.json#/resourceDefinitions/links"},{$ref:"http://schema.management.azure.com/schemas/2015-01-01/Microsoft.Authorization.json#/resourceDefinitions/locks"},{$ref:"http://schema.management.azure.com/schemas/2014-10-01-preview/Microsoft.Authorization.json#/resourceDefinitions/roleAssignments"}]}]}]}},outputs:{type:"object",description:"Output parameter definitions",additionalProperties:{$ref:"#/definitions/output"}}},additionalProperties:!1,required:["$schema","contentVersion","resources"],definitions:{ARMResourceBase:{type:"object",properties:{name:{type:"string",description:"Name of the resource"},type:{type:"string",
description:"Resource type"},apiVersion:{type:"string",description:"API Version of the resource type"},dependsOn:{type:"array",items:{type:"string"},description:"Collection of resources this resource depends on"}},required:["name","type","apiVersion"]},proxyResourceBase:{allOf:[{$ref:"#/definitions/ARMResourceBase"},{properties:{location:{$ref:"#/definitions/resourceLocations",description:"Location to deploy resource to"}}}]},resourceBase:{allOf:[{$ref:"#/definitions/ARMResourceBase"},{properties:{location:{$ref:"#/definitions/resourceLocations",description:"Location to deploy resource to"},tags:{type:"object",description:"Name-value pairs to add to the resource"},copy:{$ref:"#/definitions/resourceCopy"},comments:{type:"string"}}}]},resourceBaseExternal:{$ref:"#/definitions/resourceBase",required:["plan"]},resourceSku:{type:"object",properties:{name:{type:"string",description:"Name of the sku"},tier:{type:"string",description:"Tier of the sku"},size:{type:"string",description:"Size of the sku"},
family:{type:"string",description:"Family of the sku"},capacity:{type:"integer",description:"Capacity of the sku"}},required:["name"]},resourceCopy:{type:"object",properties:{name:{type:"string",description:"Name of the copy"},count:{oneOf:[{$ref:"#/definitions/expression"},{type:"integer"}],description:"Count of the copy"}}},resourceKind:{type:"string",maxLength:64,pattern:"(^[a-zA-Z0-9_.()-]+$)",description:"Kind of resource"},resourcePlan:{type:"object",properties:{name:{type:"string",description:"Name of the plan"},promotionCode:{type:"string",description:"Plan promotion code"},publisher:{type:"string",description:"Name of the publisher"},product:{type:"string",description:"Name of the product"}},required:["name"],description:"Plan of the resource"},resourceLocations:{anyOf:[{type:"string"},{"enum":["East Asia","Southeast Asia","Central US","East US","East US 2","West US","North Central US","South Central US","North Europe","West Europe","Japan West","Japan East","Brazil South","Australia East",
"Australia Southeast","Central India","West India","South India","Canada Central","Canada East","West Central US","West US 2","global"]}]},parameter:{type:"object",properties:{type:{$ref:"#/definitions/parameterTypes",description:"Type of input parameter"},defaultValue:{$ref:"#/definitions/parameterValueTypes",description:"Default value to be used if one is not provided"},allowedValues:{type:"array",description:"Value can only be one of these values"},metadata:{type:"object",description:"Metadata for the parameter, can be any valid JSON object"},minValue:{type:"integer",description:"Minimum value for the int type parameter"},maxValue:{type:"integer",description:"Maximum value for the int type parameter"},minLength:{type:"integer",description:"Minimum length for the string or array type parameter"},maxLength:{type:"integer",description:"Maximum length for the string or array type parameter"}},required:["type"],description:"Input parameter definitions"},output:{type:"object",properties:{
type:{$ref:"#/definitions/parameterTypes",description:"Type of output value"},value:{$ref:"#/definitions/parameterValueTypes",description:"Value assigned for output"}},required:["type","value"],description:"Set of output parameters"},parameterTypes:{"enum":["string","securestring","int","bool","object","secureObject","array"]},parameterValueTypes:{type:["string","boolean","integer","number","object","array","null"]},keyVaultReference:{type:"object",properties:{keyVault:{type:"object",properties:{id:{type:"string",minLength:1}},required:["id"],additionalProperties:!1},secretName:{type:"string",minLength:1},secretVersion:{type:"string",minLength:1}},required:["keyVault","secretName"],additionalProperties:!1},expression:{type:"string",pattern:"^\\[(concat|parameters|variables|deployment|reference|resourceId|resourceGroup|subscription|list.*|base64|providers|copyIndex|padLeft|replace|toLower|toUpper|length|split|skip|take|add|sub|mul|div|mod|string|int|trim|uri|uniqueString|substring)\\(.*\\).*\\]$",
description:"Deployment template expression.  Expressions are enclosed in [] and must start with a function of concat(), parameters(), variables(), deployment(), reference(), resourceId(), resourceGroup(), subscription(), list*(), base64(), providers(), copyIndex(), padLeft(), replace(), toLower(), toUpper(), length(), split(), skip(), take(), add(), sub(), mul(), div(), mod(), string(), int(), trim(), uri(), uniqueString(), substring()"},numberOrExpression:{oneOf:[{type:"number"},{$ref:"#/definitions/expression"}]},Iso8601Duration:{type:"string",pattern:"^P(\\d+Y)?(\\d+M)?(\\d+D)?(T(((\\d+H)(\\d+M)?(\\d+(\\.\\d{1,2})?S)?)|((\\d+M)(\\d+(\\.\\d{1,2})?S)?)|((\\d+(\\.\\d{1,2})?S))))?$"},UTC:{type:"string",pattern:"^\\d{4}(-(0[1-9]|1[0-2])(-([012]\\d|3[01])(T((([01]\\d|2[0123]):[0-5]\\d)|(24:00))(:(([0-5]\\d)|60)(\\.\\d{1,}){0,1}){0,1}){0,1}((Z)|([+-]((([01]\\d|2[0123]):[0-5]\\d)|(24:00)))){0,1}){0,1}){0,1}$"},apiVersion:{type:"string",pattern:"(^((\\d\\d\\d\\d-\\d\\d-\\d\\d)|([0-9]+(\\.[0-9]+)?))(-[a-zA-Z][a-zA-Z0-9]*)?$)",
description:"API version of the resource type"}}},f=(function(n){function t(t,i){var r;i||(i={fileMatch:["*"],url:"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",schema:u});r={json:{schemas:[i]}};n.call(this,t,19,"",{lineNumbers:!0,tabSize:4,wrappingColumn:0},undefined,undefined,undefined,r)}return __extends(t,n),t.prototype.setReadOnlyFlag=function(n){var t={lineNumbers:!0,tabSize:4,wrappingColumn:0,readOnly:n};this.options(t)},t.prototype.setType=function(){this.contentType(25)},t})(r);n.EditorViewModel=f})(r||(r={})),r}));define("HubsExtension/Deployments/ViewModels/TemplateOutlineViewModel",["require","exports","f","o","ko","Fx/Assets/Assets","HubsExtension/Common/AssetTypeCache","HubsExtension/Deployments/DeploymentsClientStrings"],(function(n,t,i,r,u,f,e,o){"use strict";var v=i.Base,s=i.Base.Images.Polychromatic,c=i.ViewModels.Controls.Lists.TreeView,l=c.ViewModel,h=o.TemplateOutline,a=(function(n){function t(t,i){var r=this,f=u.observableArray([]);n.call(
this,t,f,1,{selectable:{createSelection:function(n,t){var f=t.split(r.pathSeparator),e=0,u=i.content(),o;f.length>1&&(o=r.items().first((function(n){return n.text()===f[0]})).searchString,e=u.indexOf(o));var s=u.indexOf(n.searchString,e),h=u.substring(0,s),c=h.split("\n").length;i.position({column:1,lineNumber:c})}}});this._parameters=u.observableArray([]);this._variables=u.observableArray([]);this._resources=u.observableArray([]);this.pathSeparator="╔";this._parametersDisplayText=u.computed(t,(function(){return h.parameters.format(r._parameters().length)}));this._variablesDisplayText=u.computed(t,(function(){return h.variables.format(r._variables().length)}));this._resourcesDisplayText=u.computed(t,(function(){return h.resources.format(r._resources().length)}));f.push({text:this._parametersDisplayText,items:this._parameters,icon:u.observable(s.Gear({palette:3})),searchString:'"parameters"'},{text:this._variablesDisplayText,items:this._variables,icon:u.observable(s.File()),searchString:'"variables"'},
{text:this._resourcesDisplayText,items:this._resources,icon:u.observable(s.ResourceDefault()),searchString:'"resources"',metadata:{expanded:u.observable(!0)}});i.content.subscribe(t,(function(n){try{var i=JSON.parse(n);r._updateParameters(i.parameters);r._updateVariables(i.variables);r._updateResources(t,i.resources)}catch(u){}}))}return __extends(t,n),t.prototype._updateParameters=function(n){var i=[],t;n&&(t=r.keys(n),t.length>0&&(i=t.map((function(t){var r=n[t],f=r.type&&r.type.toLowerCase()||"",i=t;return!f||(i=i+" ({0})".format(f)),{text:u.observable(i),icon:u.observable(s.Gear({palette:3})),searchString:'"'+t+'"'}}))));this._parameters(i)},t.prototype._updateVariables=function(n){var t=[],i;n&&(i=r.keys(n),t=i.map((function(n){return{text:u.observable(n),icon:u.observable(s.File()),searchString:'"'+n+'"'}})));this._variables(t)},t.prototype._updateResources=function(n,t){var h=this,o=[],i,r;t&&t.length&&(i=function(n,t,r){n.forEach((function(n){var o=n.type,f={text:u.observable("{0} ({1})".
format(n.tags&&n.tags.displayName||n.name,n.type)),icon:u.observable(s.ResourceDefault()),searchString:'"'+n.name+'"',resourceType:r?r+"/"+o:o},e=n.resources;e&&e.length&&(f.items=u.observableArray([]),i(e,f.items(),n.type));t.push(f)}))},i(t,o,""),r=function(n,t){n.forEach((function(n){var i=f.findAssetTypeInformation(n.resourceType,t);i&&i.icon&&n.icon(i.icon);n.items&&r(n.items(),t)}))},e.getAssetTypesInformationPromise().then((function(t){t.assetTypesInformation.subscribeAndRun(n,(function(n){r(h._resources(),n)}))})));this._resources(o)},t})(l);t.TemplateOutlineViewModel=a}));define("HubsExtension/_generated/Blades/TemplateViewer.css",["require","exports"],(function(){"use strict";return".ext-hubs-splitter{height:100%}.ext-hubs-templateviewer-outer{overflow:hidden;height:100%}.ext-hubs-templateviewer-infobox{margin:5px 0}.ext-hubs-tabssection{height:28px;margin-bottom:10px;border-bottom-color:#b3b3b3;border-bottom-width:2px;border-bottom-style:solid}.ext-hubs-tabssection-tab{padding:4px 10px 8px;text-decoration:none;display:inline-block}.ext-hubs-selectedtab{border-bottom-color:#000;border-bottom-style:solid;border-bottom-width:2px;margin-bottom:-2px}.ext-hubs-templateviewer{height:calc(100% - 130px)}.ext-hubs-errortext{white-space:pre-wrap;word-wrap:break-word}"})
)