define("MsPortalImpl.Controls/Controls/Controls.ContextMenuHelpers",["require","exports","$","MsPortalImpl/UI/Commands/UI.Commands.Base","MsPortalImpl/Base/Base.EventTypes"],(function(n,t,i,r,u){"use strict";var f;return (function(n){function r(n,r){var f=i.Event(u.default.fxrightclick);f.clientX=r.clientX||n.clientX;f.clientY=r.clientY||n.clientY;i(n.target).trigger(f,t(r.widget,r.currentItem))}function t(n,t){var r;return r={selectableSet:n.selectableSet},n.triggerPlugins("getListDataForRightClick",t).forEach((function(n){i.extend(r,n)})),{entityType:1,listData:r,viewModel:t}}n.triggerRightClick=r;n.getCommandRightClickEventArgs=t})(f||(f={})),f}));define("MsPortalImpl.Controls/Controls/Lists/Base/Controls.Lists.Focus",["require","exports","MsPortalImpl.Controls/Controls/Lists/Base/Controls.Lists.Base"],(function(n,t,i){"use strict";var r;return (function(n){n.Name="focus";n.HasFocusClass="fxs-has-focus";var t=(function(n){function t(t){n.call(this,t)}return __extends(t,n),t.prototype.dispose=
function(){n.prototype.dispose.call(this)},t})(i.Plugin);n.Plugin=t})(r||(r={})),r}));define("MsPortalImpl.Controls/Controls/Lists/Base/Controls.Lists.Formatters",["require","exports","f","i","o","ko","MsPortalImpl/Base/Base.ImplUtils","MsPortalImpl/Base/Base.Sanitization","MsPortalImpl/Base/Base.KnockoutTemplateSanitizer","Viva.Controls/Util/Viva.DateUtil","MsPortalFx/Globalization"],(function(n,t,i,r,u,f,e,o,s,h,c){"use strict";var l;return (function(t){function v(n){return{html:n}}function y(n){var t=f.unwrap(n);return vt(t)}function k(n){var t=f.unwrap(n);return w(t)}function yt(n){var t=f.unwrap(n);return nt(t)?"":t+""}function rt(n){var t=f.unwrap(n),i,u,r;return t&&!p(t.text)&&p(t.uri)?(i=k(t.uri),u=y(t.text),r="<img class='azc-grid-formatters-icon' src='{0}' alt='' />{1}".format(i,u)):(i=k(t),r="<img class='azc-grid-formatters-icon' src='{0}' alt='' />".format(i)),r}function st(n){return n&&!p(n.type)}function ht(n,t,i){var o="<span class='fx-grid-formatters-svgicon' data-bind=\"image: { type: "+
w(n.type.toString()),u="",f="",e="",r;return i&&t&&(e=", style: { height: '"+w(t)+"', width: '"+w(i)+"'}"),r=n.options,r&&r.palette&&(u=", palette: "+w(r.palette.toString())),n.data&&(f=" , data: '"+w(n.data)+"'"),o+u+f+" }"+e+'"><\/span>'}function ut(n,t,i){var r=f.unwrap(n),u;return r&&!p(r.svg)&&st(r.svg)?(u="",p(r.text)||(u="<span class='fx-grid-formatters-svgtext'>"+y(r.text)+"<\/span>"),"<div class='fx-grid-formatters-svg'>"+ht(r.svg,r.height||t,r.width||i)+u+"<\/div>"):st(r)?ht(r,t,i):""}function tt(n,t,i,r,u){if(r){var o=void 0,e=t.performValidation;e(!1);o=i.subscribe(n,(function(){e()||e(!0);t.ensureValidation()}));u&&f.isObservable(u)&&u.subscribe(n,(function(){t.validate(t.validate()+1)}))}}function hi(n,t){var i=l[n.type];return i?new i.factory(n,t):null}var ft=e.ProvenanceContainer,g=i.ViewModels,et=g.Forms.CheckBox.ViewModel,ct=g.Obsolete.Forms.DropDown.ViewModel,lt=g.Obsolete.Forms.MultiSelectDropDown,at=g.Forms.TextBox.ViewModel,b=r.TriggerableLifetimeManager,w=i.encodeAttribute,
vt=i.encodeHtml,nt=i.isNullOrUndefined,p=i.isUndefined,ot=s.sanitizeHTML,a=(function(){function t(n,t,i){this._vm=n;this._safe=t||i}return u.defineProperty(t.prototype,"viewModel",{get:function(){return this._vm},enumerable:!0,configurable:!0}),t.prototype.format=function(){return v("")},t.prototype.sanitizeHtml=function(t){if(this._safe)return t;var i=ot(new ft(t,n),!1);return i.sanitizedMarkup},t.prototype.sanitizeHtmlTemplate=function(t){if(this._safe)return t;var i=ot(new ft(t,n),!0);return i.sanitizedMarkup},t.prototype.sanitizeUri=function(n){return this._safe?n:o.sanitizeUri(n)?n:""},t})(),it;t.BaseFormatter=a;it=(function(n){function t(t,i){n.call(this,t,i,!1)}return __extends(t,n),t.prototype.format=function(n){var t=yt(n);return v(this.sanitizeHtml(t))},t})(a);t.HtmlFormatter=it;var pt=(function(n){function t(t,i){n.call(this,t,i,!0)}return __extends(t,n),t.prototype.format=function(n){return v(y(n))},t})(a),wt=(function(n){function t(t,i){n.call(this,t,i,!0);this._dateFormat=t.dateFormat}
return __extends(t,n),t.prototype.convertToDate=function(n){var t,i;switch(typeof n){case"number":t=new Date(n);break;case"string":i=h.parse(n);isNaN(i)||(t=new Date(i));break;case"object":n!==null&&n.constructor===Date&&(t=n)}return t},t.prototype.format=function(n){var i=f.unwrap(n),t=this.convertToDate(i),r=t?t.toString(this._dateFormat):"";return v(y(r))},t})(a),bt=(function(n){function t(t,i){n.call(this,t,i,!0);this._numberFormat=t.numberFormat}return __extends(t,n),t.prototype.format=function(n){var t=c.NumberFormat.create(this._numberFormat).format(n);return v(y(t))},t})(a),kt=(function(n){function t(t,i){n.call(this,t,i,!1)}return __extends(t,n),t.prototype.format=function(n){var t=f.unwrap(n),r,i,u,e,o;return t=this.sanitizeUri(t),!t||p(t.text)||p(t.uri)?(o=k(t),i=y(t),r="<a class='azc-text-primary' href='{0}'>{1}<\/a>".format(o,i)):(u=k(t.uri),e=t.target?" target='"+k(t.target)+"'":"",i=y(t.text),r="<a class='azc-text-primary' href='{0}'{1}>{2}<\/a>".format(u,e,i)),v(r)},t})(a);var
dt=(function(n){function t(t,i){n.call(this,t,i,!0)}return __extends(t,n),t.prototype.format=function(n){return v(rt(n))},t})(a),gt=(function(n){function t(t,i){n.call(this,t,i,!0)}return __extends(t,n),t.prototype.format=function(n){var i="",r=f.unwrap(n),u=this.viewModel,t=u.iconLookup[r],e;return nt(t)?(t=u.iconLookup["##DEFAULT##"],t&&(t.text&&(e=y(r),t={uri:t.uri,text:t.text.replace(/##DEFAULT##/g,e)}),i=rt(t))):i=rt(t),v(i)},t})(a),ni=(function(n){function t(t,i){n.call(this,t,i,!1)}return __extends(t,n),t.prototype.format=function(n){var r=f.unwrap(n),u=this.viewModel,t=u.textLookup[r],i;return nt(t)&&(t=u.textLookup["##DEFAULT##"],t||(t=r)),i=y(t),i=this.sanitizeHtml(t),v(i)},t})(a);var ti=(function(n){function t(t,i){n.call(this,t,i,!0)}return __extends(t,n),t.prototype.format=function(n){var t=this.viewModel;return v(ut(n,t.height,t.width))},t})(a),ii=(function(n){function t(t,i){n.call(this,t,i,!0)}return __extends(t,n),t.prototype.format=function(n){var r="",u=f.unwrap(n),i=this.viewModel,
t=i.svgIconLookup[u],e;return nt(t)?(t=i.svgIconLookup["##DEFAULT##"],t&&t.text&&(e=y(u),t={svg:t.svg,text:t.text.replace(/##DEFAULT##/g,e)}),r=ut(t,i.height,i.width)):r=ut(t,i.height,i.width),v(r)},t})(a),ri=(function(n){function t(t,i){n.call(this,t,i,!0)}return __extends(t,n),t.prototype.format=function(){return v(this.viewModel.template)},t})(a),d=(function(n){function t(t,i){n.call(this,t,i,!0)}return __extends(t,n),t.prototype.format=function(n){var i=this,t=[],r=f.ignoreDependencies((function(){return i._data(n,t)})),u=l[this.viewModel.type]||{},e="<div data-bind='formElement: $data' data-grid-formelement='"+u.name+"'><\/div>";return{html:e,data:r,disposables:t.length?t:null}},t})(a);var ui=(function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t.prototype._data=function(n,t){var r=f.utils.wrap(n),s=f.observable(r.peek()),u=new b,o;t.push(u);var h={getOriginalObservable:function(){return s},getEditableObservable:function(){return r},createdByBaseFormClass:!0},i=this.viewModel,
c={label:f.observable(i.label||""),validations:f.observableArray(i.validations),infoBalloonContent:f.observable(i.infoBalloonContent),inlineLabel:!0},e=new et(u,c);return e._setEditScopeAccessors(h),o=null,tt(u,e,r,o,i.validate),e},t})(d),fi=(function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t.prototype._data=function(n,t){var r=f.utils.wrap(n),s=f.observable(r.peek()),u=new b,o;t.push(u);var h={getOriginalObservable:function(){return s},getEditableObservable:function(){return r},createdByBaseFormClass:!0},i=this.viewModel,e=new at(u,{label:f.observable(i.label||""),valueUpdateTrigger:4,validations:f.observableArray(i.validations),emptyValueText:f.observable(i.emptyValueText),infoBalloonContent:f.observable(i.infoBalloonContent)});return e._setEditScopeAccessors(h),o=null,tt(u,e,r,o,i.validate),e},t})(d),ei=(function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t.prototype._data=function(n,t){var u=f.utils.wrap(n),i=this.viewModel,h=f.observable(u.peek()),e=new
b,o,r,s;return t.push(e),o={getOriginalObservable:function(){return h},getEditableObservable:function(){return u},createdByBaseFormClass:!0},r=new lt.ViewModel(e,{label:f.observable(i.label||""),groups:i.groups,multiselect:i.multiselect,validations:f.observableArray(i.validations),infoBalloonContent:f.observable(i.infoBalloonContent)}),r.maxSelectAllowed=i.maxSelectAllowed,r.multiItemsDisplayFormat=i.multiItemsDisplayFormat,r.multiItemsMaxDisplayFormat=i.multiItemsMaxDisplayFormat,r.valueSeparator=i.valueSeparator,r.displaySeparator=i.displaySeparator,r._setEditScopeAccessors(o),s=null,tt(e,r,u,s,i.validate),r},t})(d),oi=(function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t.prototype._data=function(n,t){var r=new b;t.push(r);var u=new et(r),i=!1,f=!0;return null.isSelected.subscribe(r,(function(n){try{i=!0;u.value(n)}finally{i=!1}})),u.value.subscribe(r,(function(n){if(!f&&!i)try{i=!0;u.value(!n)}finally{i=!1}f=!1})),u},t})(d),si=(function(n){function t(t,i){n.call(this,t,i)}return __extends(
t,n),t.prototype._data=function(n,t){var r=f.utils.wrap(n),i=this.viewModel,o,u,s,e,h;return!f.isObservable(i.options),r.peek()===undefined&&r(i.options()[0].value),o=f.observable(r.peek()),u=new b,t.push(u),s={getOriginalObservable:function(){return o},getEditableObservable:function(){return r},createdByBaseFormClass:!0},e=new ct(u,{label:f.observable(i.label||""),options:i.options,validations:f.observableArray(i.validations),infoBalloonContent:f.observable(i.infoBalloonContent)}),e._setEditScopeAccessors(s),h=null,tt(u,e,r,h,i.validate),e},t})(d),l=[];l[2]={factory:pt,name:"Text"};l[1e3]={factory:ri,name:"HtmlTemplate"};l[1001]={factory:ui,name:"CheckBox"};l[1002]={factory:fi,name:"TextBox"};l[1003]={factory:ei,name:"MultiselectDropDown"};l[1004]={factory:oi,name:"CheckBoxRowSelection"};l[1005]={factory:si,name:"DropDown"};l[113]={factory:wt,name:"Date"};l[114]={factory:bt,name:"Number"};l[108]={factory:dt,name:"Icon"};l[109]={factory:gt,name:"IconLookup"};l[111]={factory:ti,name:"SvgIcon"};
l[112]={factory:ii,name:"SvgIconLookup"};l[1]={factory:it,name:"Html"};l[110]={factory:ni,name:"TextLookup"};l[107]={factory:kt,name:"Uri"};t.createFormatter=hi})(l||(l={})),l}));define("MsPortalImpl.Controls/Controls/Lists/Base/Controls.Lists.Selection",["require","exports","MsPortalImpl.Controls/Controls/Lists/Base/Controls.Lists.Base"],(function(n,t,i){"use strict";var r;return (function(n){n.Name="focus";n.HasFocusClass="fxs-has-focus";var t=(function(n){function t(t){n.call(this,t)}return __extends(t,n),t.prototype.dispose=function(){n.prototype.dispose.call(this)},t})(i.Plugin);n.Plugin=t})(r||(r={})),r}));define("_generated/Less/MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.ContextMenu.css",["require","exports","module"],(function(n,t,i){"use strict";window.fx.injectCss(i,".fxc-grid2.fxc-grid-contextMenu table tbody tr[aria-disabled=true] td.fxc-grid-contextMenuShortcut-cell a{display:none}.fxc-grid2.fxc-grid-contextMenu table tbody tr:not([aria-disabled=true]) td.fxc-grid-contextMenuShortcut-cell{padding:1px}.fxc-grid2.fxc-grid-contextMenu table tbody tr:not([aria-disabled=true]) td.fxc-grid-contextMenuShortcut-cell a{display:flex;height:100%}.fxc-grid2.fxc-grid-contextMenu table tbody tr:not([aria-disabled=true]) td.fxc-grid-contextMenuShortcut-cell a svg{height:16px;width:16px;margin:auto}")})
);define("MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.ContextMenu.ctl",["require","exports","f","ko","MsPortalImpl.Controls/Controls/Controls.ContextMenuHelpers","MsPortalImpl.Controls/Controls/Lists/Base/Controls.Lists.Base","MsPortalImpl/Base/Base.KeyboardHelper","Viva.Controls/Util/Viva.Util","MsPortalImpl/Resources/ImplScriptResources","MsPortalImpl/Base/Base.EventTypes","_generated/Less/MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.ContextMenu.css"],(function(n,t,i,r,u,f,e,o,s,h){"use strict";var c;return (function(n){function l(n,t,i,r){var f=d(t.currentTarget),o={clientX:i,clientY:r,currentItem:f,widget:n},e;t.preventDefault();t.stopPropagation();f.isSelected()||(e=n.selection,e.unselectAllRows(),e.selectRows(f));u.triggerRightClick(t,o)}var y="contextMenu",v="fxc-grid-contextMenu",t=v+"Shortcut",o=".fxGridContextMenu",c="tbody tr:not([aria-disabled=true])",p=t+"-cell",a="."+p+" a",w="<col class='"+t+'-col\' data-bind="style:{ width: $data.contextMenu.width } "/>',b="<th aria-hidden='true' class='"+
t+"-header'><\/th>",k="<td role='gridcell' class='"+t+"-cell azc-br-muted'><a class='msportalfx-inherit-color fxs-portal-svg' href='' role='button' data-bind='image: MsPortalFx.Base.Images.Ellipsis(), attr: { tabindex: $tabIndex }' title='"+i.encodeAttribute(s.Grid2.contextMenu)+"'><\/a><\/td>",d=r.dataFor,g=(function(n){function t(t){n.call(this,{name:y,cssClass:v,widget:t});this.options=t.options.contextMenu;this.width=r.observable();this.headerResized(this.widget.element.find(".fxc-grid-tableHeader").width())}return __extends(t,n),t.prototype.headerResized=function(n){var t=this.widget.options.resizing;this.width(t&&t.resizeToPercent&&t.resizeToPercent()?3200/n+"%":"32px")},t.prototype.dispose=function(){n.prototype.dispose.call(this)},t.prototype.setTemplates=function(n){var t="bodyRowsContent",i="colgroup",r=n.getTemplate(t),u=n.getHtmlTemplate("header"),f=n.getHtmlTemplate(i);n.setTemplate(t,r+k);u.append("tr",b);f.append(i,w)},t.prototype.initializeRow=function(){},t.prototype.attachEvents=
function(){var n=this.widget,t=n.element;n.attachEvent(t,h.default.click+o,c+" "+a,(function(t,i){if(!n._loading()){var r=t.offset();l(n,i,r.left,r.top)}i.preventDefault();i.stopPropagation()}));n.attachEvent(t,h.default.keyup+o,c,(function(t,i){var r,u;n._loading()||(r=e.getModifierKeys(i),(i.which===121&&r===4||i.which===93&&r===0)&&(u=t.find(a).offset(),l(n,i,u.left,u.top)))}));n.attachEvent(t,h.default.keydown+o,c+" "+a,(function(t,i){if(!n._loading()&&(i.which===32||i.which===13)){var r=t.offset();l(n,i,r.left,r.top);i.stopPropagation();i.preventDefault()}}));n.attachEvent(t,h.default.contextmenu+o,c,(function(t,i){n._loading()||(i.which!==3||e.getModifierKeys(i)!==8)&&l(n,i)}))},t.prototype.getAdditionalColumns=function(){return 1},t})(f.Plugin);n.Plugin=g})(c||(c={})),c}));define("_generated/Less/MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.Formatters.css",["require","exports","module"],(function(n,t,i){"use strict";window.fx.injectCss(i,".fxc-grid2.fxc-base [data-grid-formelement=DropDown] .fxc-control,.fxc-grid2.fxc-base [data-grid-formelement=MultiselectDropDown] .fxc-control,.fxc-grid2.fxc-base [data-grid-formelement=TextBox] .fxc-control{width:100%}.fxc-grid2.fxc-base .fx-grid-formatters-svg{display:flex;align-items:center;text-overflow:inherit;overflow:inherit}.fxc-grid2.fxc-base .fx-grid-formatters-svg.fx-grid-svgicon-center{justify-content:center;width:calc(100% + 10px);margin-left:-10px}.fxc-grid2.fxc-base .fx-grid-formatters-svg .fx-grid-formatters-svgtext{text-overflow:inherit;overflow:inherit}.fxc-grid2.fxc-base .fx-grid-formatters-svgicon{margin-right:6px;flex-shrink:0;width:12px;height:13px;position:relative;display:inline-block}.fxc-grid2.fxc-base .fx-grid-formatters-icon{display:flex;align-items:center;text-overflow:inherit;overflow:inherit}.fxc-grid2.fxc-base .fx-grid-formatters-icon .fx-grid-formatters-icon-text{flex:1;min-width:0;text-overflow:inherit;overflow:inherit}")})
);define("MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.Base.ctl",["require","exports","ko","MsPortalImpl.Controls/Controls/Lists/Base/Controls.Lists.Base","_generated/Less/MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.Formatters.css"],(function(n,t,i,r){"use strict";var u;return (function(n){var t=(function(n){function t(t){n.call(this,t);this.groupHeader=i.observable(!1)}return __extends(t,n),t})(r.Item);n.Row=t})(u||(u={})),u}));define("MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.Plugins.ctl",["require","exports"],(function(){"use strict";var n;return (function(n){function r(n){return n[0].toUpperCase()+n.slice(1)}function t(n,t){return{name:n,dependencies:t||[],isEnabled:function(t){var i=t&&t[n];return i&&i.enabled},moduleId:"MsPortalImpl.Controls/Controls/Lists/Grid2/GridB."+r(n)+".ctl"}}var i=["focus"];n.Registrations=[t("focus"),t("sorting"),t("scrolling"),t("resizing"),t("hierarchical"),t("selection",i),t("paging"),t("demandLoading"),t("reordering",i),t("hover",i),t("contextMenu",
["selection"]),t("grouping"),t("search")]})(n||(n={})),n}));define("_generated/Less/MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.css",["require","exports","module"],(function(n,t,i){"use strict";window.fx.injectCss(i,'.fxc-grid2 table tbody tr td,.fxc-grid2 table thead tr th a span{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.fxc-grid2{font-size:12px}.fxc-grid2.fxc-grid-headerHidden table thead{display:none}.fxc-grid2 .fxc-grid-loading .fxc-grid-tableContent{opacity:.25}.fxc-grid2 .fxc-grid-loadingUx{display:-webkit-flex;display:flex;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);padding:10px 20px;-webkit-align-items:center;align-items:center}.fxc-grid2 table tbody tr td .fxc-dropdown,.fxc-grid2 table thead tr th .fxc-grid-header-wrapper>a .fxc-grid-headerlabel{display:block}.fxc-grid2 .fxc-grid-loadingUx span{-webkit-flex:0 0 auto;flex:0 0 auto}.fxc-grid2 table{width:100%;border:0;background-color:transparent;table-layout:fixed;border-spacing:0;border-collapse:collapse}.fxc-grid2 table tbody tr td,.fxc-grid2 table tbody:last-child tr:last-child td{border-bottom-width:1px;border-bottom-style:solid}.fxc-grid2 table td:first-of-type,.fxc-grid2 table th:first-child a{padding-left:7px}.fxc-grid2 table th:first-child{padding-left:0}.fxc-grid2 table thead tr th{text-transform:uppercase;text-align:left;font-size:10px;padding:0;height:40px;position:relative;font-family:az_ea_font,"Segoe UI",wf_segoe-ui_bold,"Segoe UI Bold","Segoe WP Bold","Segoe WP",Tahoma,Arial,sans-serif;font-weight:700}.fxc-grid2 table thead tr th a{line-height:38px;display:block;text-decoration:none;color:inherit;position:relative}.fxc-grid2 table thead tr th .fxc-grid-header-wrapper>a{padding:1px 0 1px 10px}.fxc-grid2 table tbody tr td{padding:1px 0 1px 10px;height:28px;border-top-width:1px;border-top-style:solid}.fxc-grid2 table tbody tr td .fxc-button,.fxc-grid2 table tbody tr td .fxc-dropdown,.fxc-grid2 table tbody tr td .fxc-editableCombo,.fxc-grid2 table tbody tr td .fxc-fileUpload,.fxc-grid2 table tbody tr td .fxc-optionPicker,.fxc-grid2 table tbody tr td button,.fxc-grid2 table tbody tr td input,.fxc-grid2 table tbody tr td select,.fxc-grid2 table tbody tr td textarea{font-size:12px!important}.fxc-grid2 a img{border:0}.fxs-mode-light .fxc-grid-loadingUx{color:#000}.fxs-mode-dark .fxc-grid-loadingUx{color:#FFF}')})
);define("MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.ctl",["require","exports","f","i","o","ko","MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.Base.ctl","MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.Plugins.ctl","MsPortalImpl.Controls/Controls/Lists/Base/Controls.Lists.ExtensibleControl","MsPortalImpl.Controls/Controls/Lists/Base/Controls.Lists.Base","MsPortalImpl.Controls/Controls/Lists/Base/Controls.Lists.Formatters","MsPortalImpl/Base/Base.SelectableSet2","MsPortalImpl/Base/Base.BrowserDetection","_generated/Less/MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.css"],(function(n,t,i,r,u,f,e,o,s,h,c,l,a){"use strict";var v;return (function(n){var fi=r.Data,rt=i.Base,p=r.ViewModels.Controls.Lists.Grid2,w=i.initObservable,d="fxc-grid2",g="azc-control",nt="fxc-grid-headerHidden",ut=rt.Images.Loading.EllipsisSquare(),ft="<!-- ko template: 'table' --><!-- /ko -->",et="<div class='fxc-grid-container azc-br-muted' data-bind=\"css: { 'fxc-grid-loading' : $ctl._loading } \"><div class='fxc-grid-tableContainer azc-br-muted'><div class='fxc-grid-tableScrollContainer azc-br-muted' data-bind='if: $ctl._columns().length, attr: { tabindex: $ctl._isFireFox ? -1 : null }'><table class='fxc-grid-tableHeader' role='presentation'><!-- ko template: 'header' --><!-- /ko --><\/table><div class='fxc-grid-tableContent'><table class='fxc-grid-full' role='presentation'><!-- ko template: 'colgroup' --><!-- /ko --><!-- ko template: 'body' --><!-- /ko --><\/table><\/div><div class='fxc-grid-loadingUx fxs-portal-svg' data-bind='visible: $ctl._loading' ><span style='height: 32px; width: 32px; opacity: 0.7' data-bind='image: MsPortalFx.Base.Images.Loading.EllipsisSquare()'><\/span><\/div><\/div><\/div><\/div>",
ot="<!-- ko template: 'colgroup' --><!-- /ko --><thead><tr role='row'><!-- ko template: { name: 'headerCell', foreach: $ctl._columns } --><!-- /ko --><\/tr><\/thead>",st="<colgroup><!-- ko template: { name: 'headerColumn', foreach: $ctl._columns } --><!-- /ko --><\/colgroup>",ht='<col data-bind=\'attr: { "class": "col" + $index() }, style: { width: width }, css: { "azc-collapsed-hidden": hiddenInCollapsed }\' />',ct="<th class='fxc-grid-column-header' role='presentation' data-bind='css: { \"azc-collapsed-hidden\": hiddenInCollapsed }' ><div class='fxc-grid-header-wrapper'><!-- ko template: 'headerCellContent' --><!-- /ko --><\/div><\/th>",lt="<a role='columnheader' data-bind='attr: { id: columnId }'><span class='fxc-grid-headerlabel' data-bind='text: name'><\/span><\/a>",at="<!-- ko template: $ctl._bodyTemplate --><!-- /ko -->",vt="<tbody class='fxc-grid-groupdata' role='rowgroup' data-bind='template: { name: \"bodyRowsCore\", foreach: $ctl._rows }'><\/tbody>",yt="<tbody role='rowgroup' class='fxc-grid-empty fx-bg-muted' data-bind='if: $vm.loadingMessage'><tr role='row' data-bind='attr{ id: elementId }'><td role='gridcell' class='azc-br-muted' data-bind='attr: { colspan: $ctl._getTotalColumns() }, html: $ctl._loadingMessage'><\/td><\/tr><\/tbody>",
pt="<tbody role='rowgroup' class='fxc-grid-empty' data-bind='if: data.noRowsMessage'><tr role='row'><td role='gridcell' class='azc-br-muted' data-bind='attr: { colspan: $ctl._getTotalColumns() }, html: $ctl._loading() ? $ctl._loadingMessage : $ctl._noRowsMessage'><\/td><\/tr><\/tbody>",wt="<td role='gridcell' class='azc-br-muted' data-bind='attr: { colspan: $ctl._getTotalColumns() }'><div class='fx-grid-formatters-svg' style='justify-content: center; opacity: 0.5'><span class='fx-grid-formatters-svgicon' data-bind='image: loadingImage' style='height: 20px;width: 30px'><\/span><\/div><\/td>",bt="<td role='gridcell' class='azc-br-muted' data-bind='attr: { colspan: $ctl._getTotalColumns() }'><\/td>",kt="<tr role='row' data-bind='template: template, attr: attr, css: css'><\/tr>",dt="<!-- ko template: { name: 'bodyCell', foreach: $data.cells } --><!-- /ko -->",gt="<td role='gridcell' data-bind='css: column.css, attr: attr, template: \"bodyCellContent\"'><\/td>",ni="<span class='fxc-grid-cellContent' data-bind='css: { \"fxs-ellipsis\": column.enableEllipsis }, gridFormatter: { row: $parent, column: $data.column }'><\/span>",
ti=f.observableArray,t=f.pureComputed,v=f.unwrap,y=f.utils,ii=i.disposeDisposable,ri=0,ui=0,b,k,tt,it;f.bindingHandlers.gridFormatter={init:function(){return{controlsDescendantBindings:!0}},update:function(n,t,i,r,u){var h=v(t()),b=v(h.row),c=v(h.column),l,e=c.format,a;e||(e=new p.Formatters.Text);a=u.$ctl;l=a._getFormatter(e);var o=v(b.data),w=y.unwrapObservablePath(o,c.id),s=l.format(w,o);f.ignoreDependencies((function(){var i=s.html,r=s.data||{item:o,value:w},t=s.disposables;y.cleanDescendantNodes(n);y.setHtml(n,i);f.applyBindingsToDescendants(u.createChildContext(r),n);t&&t.length&&y.domNodeDisposal.addDisposeCallback(n.firstElementChild||n,(function(){ii(t)}))}))}};b=(function(n){function i(i,r){var u=this;n.call(this,r);this.loadingImage=ut;this._widget=i;this.ariaLabel=f.observable();this.ariaDescribedBy=f.observable();this.elementId=f.observable();this.attr={role:"row","aria-disabled":this.isDisabled,"aria-label":this.ariaLabel,id:this.elementId,"aria-describedBy":this.ariaDescribedBy,
"aria-rowindex":r.itemIndex};this.css={"fxc-grid-row":!0,"azc-row-disabled":this.isDisabled,"fxc-grid-row-loading":this.isLoading};this.isLoading=t((function(){return!u.data()}));this.context={$disabled:this.isDisabled};this.template=t((function(){var t={name:"bodyRowsContent",context:u.context},n;return u.isLoading()?t.name="bodyRowsLoadingContent":(n=u._widget.triggerPlugins("computeRowTemplate",u),n&&n[0]&&n[0].length&&(t.name=n[0])),t}))}return __extends(i,n),i})(e.Row);n.Row=b;n.Selector=".fxc-grid2";n.EnabledRowSelector=".fxc-grid-row:not([aria-disabled=true])";k=(function(n){function i(i,r,u){var f=this,s,e;n.call(this,i,r,u);this.uniqueId="fxgrid2"+ui++;this._isFireFox=a.isFirefox;this._columns=ti();this._bodyTemplate=t((function(){var n=f.loadState();switch(n){case 0:return"bodyLoading";case 1:return"bodyLoading";case 3:return"bodyNoRows";case 2:return f.dataNavigator.totalItems()?"bodyCore":"bodyNoRows";default:return"bodyCore"}}));s=this._htmlFormatter=new c.HtmlFormatter(new p.Formatters.
Html,this._isTrusted);this._loadingMessage=t((function(){return s.format(f.viewModel.loadingMessage(),null).html}));this._noRowsMessage=t((function(){return s.format(f.viewModel.noRowsMessage(),null).html}));this._deferredCreate=Q.defer();this.waitFor(this.loadPlugins(o.Registrations)).then((function(){f.triggerPlugins("beforeCreate");f._create()})).then((function(n){f._deferredCreate.resolve(n);f.triggerPlugins("afterCreate");f.load()}),(function(n){f._deferredCreate.reject(n)}));e=r.selection;e&&e.enabled!==!1&&(this._selectableSet=l.getSelectableSet2(e._msPortalFxSelectableSet))}return __extends(i,n),u.defineProperty(i.prototype,"_rows",{get:function(){return this._items},enumerable:!0,configurable:!0}),i.prototype._create=function(){var i=this,n=this.element,t=this.viewModel;t.columns.mapInto(this.ltm,(function(n,t){return i.createColumn(t)}),this._columns);this._setTemplates();n.addClass(d).addClass(g).attr("role","grid").html(ft);this.options.ariaLabel.subscribeAndRun(this.ltm,(function(t){n.
attr("aria-label",t)}));this.options.loading.subscribeAndRun(this.ltm,(function(t){n.attr("aria-busy",t?"true":null)}));t.columns.subscribeAndRun(this.ltm,(function(t){n.attr("aria-colcount",t.length)}));this.dataNavigator.totalItems.subscribeAndRun(this.ltm,(function(t){n.attr("aria-rowcount",t&&t>=0?t:-1)}));t.showHeader||n.addClass(nt);this._bindDescendants();this._attachEvents()},i.prototype.waitForCreate=function(){return this._deferredCreate.promise},u.defineProperty(i.prototype,"_isTrusted",{get:function(){return this._createOptions.isTrusted},enumerable:!0,configurable:!0}),i.prototype.dispose=function(){if(!this._checkExistsOrRegisterDestroyId(n.prototype.dispose))try{this.triggerPlugins("beforeDestroy");this._detachEvents();this._cleanElement(d,g,nt,"fxc-grid-horizontalScroll","fxc-grid-verticalScroll");n.prototype.dispose.call(this);this.triggerPlugins("afterDestroy")}finally{this._isDisposed=!0}},u.defineProperty(i.prototype,"options",{get:function(){return this._options},enumerable:
!0,configurable:!0}),u.defineProperty(i.prototype,"viewModel",{get:function(){return this._options},enumerable:!0,configurable:!0}),i.prototype._attachEvents=function(){this.attachEvent(this.element,"mouseenter.fxGrid","> .fxc-grid-container .fxc-grid-full > tbody > tr > td",(function(n){var t=n.find(">div,>span");n[0].offsetWidth<n[0].scrollWidth&&(t.attr("title")||t.attr("title",n.text()))}));n.prototype._attachEvents.call(this)},i.prototype._detachEvents=function(){n.prototype._detachEvents.call(this)},i.prototype.createItem=function(n,t){return this.createRow(n,t)},i.prototype.createRow=function(n,i){var u=this,r=new b(this,i,this._columns);return this.triggerPlugins("initializeRow",r),r.cells=t((function(){return u._columns().map((function(n,t){var f={attr:{role:"gridcell","aria-describedby":n.columnId,"aria-colindex":t+1,"aria-rowindex":i.itemIndex},column:n};return u.triggerPlugins("initializeCells",r,f),f}))})),f.computed(n,[r.groupHeader,r.data],(function(n,t){u.options.getRowAriaLabel&&
!n&&t&&Q(u.options.getRowAriaLabel(t)).then((function(n){r.ariaLabel(n)}));t&&u.triggerPlugins("addRowAriaAttributes",r)})),r},i.prototype.createColumn=function(n){var t={id:n.id,name:w(n.name,""),width:w(n.width,null),format:n.format,enableEllipsis:w(n.enableEllipsis,!0),hiddenInCollapsed:n.hiddenInCollapsed,css:{"fxc-grid-cell":!0,"azc-br-muted":!0,"azc-collapsed-hidden":!!n.hiddenInCollapsed},columnId:"fxgrid2col"+ri++};return this.triggerPlugins("initializeColumn",t,n),t},i.prototype._getTotalColumns=function(){var n=this._columns(),t=this.element.parents(".fxs-blade-has-activation").length?n.filter((function(n){return!n.hiddenInCollapsed})).length:n.length,i=this.triggerPlugins("getAdditionalColumns");return i.forEach((function(n){t+=n})),t},i.prototype._setTemplates=function(){var n=this.templateEngine;n.setTemplate({table:et,header:ot,headerColumn:ht,colgroup:st,headerCell:ct,headerCellContent:lt,body:at,bodyCore:vt,bodyLoading:yt,bodyNoRows:pt,bodyRowsCore:kt,bodyRowsContent:dt,bodyRowsLoadingContent:
wt,bodyRowsErrorContent:bt,bodyCell:gt,bodyCellContent:ni});this.triggerPlugins("setTemplates",n)},i.prototype._resetExtensions=function(){var n=this.triggerPlugins("resetExtension");return Q.all(n)},i.prototype._getFormatter=function(n){return n||(n=new p.Formatters.Text),c.createFormatter(n,this._isTrusted)},i.prototype.getFirstVisibleRow=function(){return n.prototype.getFirstVisibleItem.call(this)},i.prototype.getOrCreatePreviousRow=function(t,i,r){return i===void 0&&(i=!0),r===void 0&&(r=!1),n.prototype.getOrCreatePreviousItem.call(this,t,i,r)},i.prototype.getOrCreateNextRow=function(t,i,r){return i===void 0&&(i=!0),r===void 0&&(r=!1),n.prototype.getOrCreateNextItem.call(this,t,i,r)},i.prototype.getRowById=function(t){return n.prototype.getItemById.call(this,t)},i.prototype.getRowByIndex=function(t){return n.prototype.getItemByIndex.call(this,t)},i})(h.Widget);n.Widget=k;tt=(function(n){function t(t){n.call(this,t)}return __extends(t,n),t})(s.PluginBase);n.Plugin=tt;it=(function(n){function t(
t,i){n.call(this,t,i,{isTrusted:!0})}return __extends(t,n),t})(k);n.TrustedWidget=it})(v||(v={})),v}));define("_generated/Less/MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.Resizing.css",["require","exports","module"],(function(n,t,i){"use strict";window.fx.injectCss(i,".fxc-grid2.fxc-grid-resizing .fxc-grid-tableContainer{position:relative}.fxc-grid2.fxc-grid-resizing .fxc-grid-resizableColumn-handle{position:absolute;right:-5px;top:0;height:100%;width:10px;cursor:ew-resize;z-index:1;display:-webkit-flex;display:flex;-webkit-justify-content:center;justify-content:center}.fxc-grid2.fxc-grid-resizing .fxc-grid-resizableColumn-handle .fxc-grid-resizableColumn-handle-line{width:1px;height:100%;opacity:0}.fxc-grid2.fxc-grid-resizing .fxc-grid-resizableColumn-ghostLine{position:absolute;width:1px;top:0;z-index:1}.fxc-grid2.fxc-grid-resizing .fxc-grid-show-handles .fxc-grid-resizableColumn-handle .fxc-grid-resizableColumn-handle-line,.fxc-grid2.fxc-grid-resizing thead:hover .fxc-grid-resizableColumn-handle-line,.fxc-grid2.fxc-grid-resizing.fxc-grid-resizing-inprogress .fxc-grid-resizableColumn-handle-line{opacity:1}.fxc-grid2.fxc-grid-resizing.fxc-grid-resizing-inprogress *{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.fxs-blade-has-activation .fxc-grid2.fxc-grid-resizing .fxc-grid-resizableColumn-handle{display:none}")})
);define("MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.Resizing.ctl",["require","exports","f","o","ko","MsPortalImpl.Controls/Controls/Lists/Base/Controls.Lists.Base","_generated/Less/MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.Resizing.css"],(function(n,t,i,r,u,f){"use strict";var e;return (function(n){function h(n,i,r){var f,o,e,u;if(r===n.length)f=null;else if(e=n[r],e.hasOwnProperty("disableResizable")&&!e.disableResizable()){for(u=0;u<i.length;u++)if(t(i.eq(u)[0]).id===e.id){o=i.eq(u);break}f=o}else r++,f=h(n,i,r);return f}function tt(n,t){for(var r=-1,i=0;i<n.length;i++)if(n[i].id===t.id){r=i;break}return r}function c(n,t){if(n>0)return(t/n*100).toString()+"%"}function it(n,t){return t-n.offset().left}function l(n,t,i){return Math.min(Math.max(n,t),i)}var o=i.initObservable,a="resizing",v="fxc-grid-resizing",t=u.dataFor,s=u.isObservable,r=jQuery,y=window,e="fxc-grid-resizing-inprogress",p=".fxc-grid-resizableColumn-handle",w=".fxc-grid-resizableColumn-handle-line",b=".fxc-grid-tableHeader",
k=".fxc-grid-tableContent",d=".fxc-grid-tableContainer",g="<div class='fxc-grid-resizableColumn-ghostLine fxs-portal-selected'><\/div>",nt="<!-- ko if: hasHandle && hasHandle() --><div class='fxc-grid-resizableColumn-handle'><div class='fxc-grid-resizableColumn-handle-line azc-bg-muted'><\/div><\/div><!-- /ko -->",rt=(function(n){function i(t){n.call(this,{name:a,cssClass:v,widget:t});var r=this._options=t.options.resizing,i=t.options.scrolling;i&&i.enabled&&i.horizontal&&r.resizeToPercent(!1)}return __extends(i,n),i.prototype.dispose=function(){var t=this._disposeAction;t&&(t(),this._disposeAction=null);this.widget.element.removeClass(e);n.prototype.dispose.call(this)},i.isEnabled=function(n){var t=n.options.resizing;return t&&t.enabled},i.prototype.setTemplates=function(n){var t=n.getHtmlTemplate("headerCell");t.append("div",nt)},i.prototype._setColumnWidthsToMatchElementWidth=function(n,t){var f=this,i=this.widget.contextMenu?t-32:t,r=0,u=[];n.forEach((function(n){var t,e=n.width();e&&
(e.endsWith("%")?t=parseFloat(e.slice(0,e.length-1))*.01*i:e.endsWith("px")&&(t=parseFloat(e.slice(0,e.length-2))));t=isNaN(t)?f._options.minWidth:t;u.push(t);r+=t}));this._options.resizeToPercent()?u.forEach((function(u,f){n[f].width(u/r*i/t*100+"%")})):u.forEach((function(t,u){var f=i/r;n[u].width(Math.round(t*f)+"px")}))},i.prototype.headerResized=function(n){this._setColumnWidthsToMatchElementWidth(this.widget._columns(),n)},i.prototype.afterCreate=function(){var n=this;this.widget._columns.subscribeAndRun(this.ltm,(function(t){t.length&&(n._lastCol&&n._lastCol.hasHandle(!0),n._lastCol=t[t.length-1],n._lastCol.hasHandle(!1));n._setColumnWidthsToMatchElementWidth(t,n.widget.element.find(".fxc-grid-tableHeader").width())}))},i.prototype.attachEvents=function(){var u=this,n=this.widget,i=n.element;n.attachEvent(i,"mousedown.fxcontrolGridResizableColumn",p,(function(f,e){var l,o,c,p,a,w,v,y;(u._mouseDownPos=e.pageX,a=r(e.currentTarget),w=i.find("th"),l=a.parent().closest("th"),c=t(l[0]),e.preventDefault(
),c.disableResizable())||(v=n._columns(),y=tt(v,c),y<0)||(o=h(v,w,y+1),o)&&(p=t(o[0]),s(c.width)&&s(p.width))&&u._resizeStart(a,i,l,o)}))},i.prototype.initializeColumn=function(n,t){n.disableResizable=o(t.disableResizable,!1);n.hasHandle=o(t.hasHandle,!0)},i.prototype._resizeStart=function(n,i,u,f){var nt=this,tt,ct=i.find(b),lt=i.find(k),s=r(g),v=i.find(d),rt=u.offset().left+this._options.minWidth,ut=f.offset().left+f.width()-this._options.minWidth,ft,et,ot,st;tt=n.find(w);ft=tt.offset().left;et=it(v,ft);s.offset({left:et});s.css("position","absolute");ot=ct.height();st=lt.height();s.height(ot+st);v.append(s);var h=r(y.document),p="mousemove.fxcontrolGridResizableColumn",o=function(n){var t=n.pageX,r=l(t,rt,ut);n.preventDefault();i.addClass(e);s.offset({left:r})},ht="mouseup.fxcontrolGridResizableColumn",a=function(n){var r,d,g,a,y,w,b,k,tt=n.pageX,it=l(tt,rt,ut),ft=t(f[0]),et=t(u[0]);o&&h.off(p,o);o=null;i.removeClass(e);s.remove();d=u.width();g=f.width();k=it-nt._mouseDownPos;a=d+k;y=
g-k;nt._options.resizeToPercent()?(r=v.width(),b=c(r,y),w=c(r,a)):(w=a.toString()+"px",b=y.toString()+"px");et.width(w);ft.width(b)};h.on(p,o);h.one(ht,a);this._disposeAction=function(){o&&h.off(p,o);o=null;a&&h.off(ht,a);a=null}},i})(f.Plugin);n.Plugin=rt})(e||(e={})),e}));define("_generated/Less/MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.Scrolling.css",["require","exports","module"],(function(n,t,i){"use strict";window.fx.injectCss(i,".fxc-grid2.fxc-grid-scrolling,.fxc-grid2.fxc-grid-scrolling div.fxc-grid-container,.fxc-grid2.fxc-grid-scrolling div.fxc-grid-container div.fxc-grid-tableContainer,.fxc-grid2.fxc-grid-scrolling div.fxc-grid-container div.fxc-grid-tableContainer div.fxc-grid-tableScrollContainer{overflow-x:hidden;overflow-y:hidden}.fxc-grid2.fxc-grid-scrolling.fxc-grid-horizontalScroll,.fxc-grid2.fxc-grid-scrolling.fxc-grid-horizontalScroll div.fxc-grid-container,.fxc-grid2.fxc-grid-scrolling.fxc-grid-horizontalScroll div.fxc-grid-container div.fxc-grid-tableContainer{width:100%;overflow-x:hidden}.fxc-grid2.fxc-grid-scrolling.fxc-grid-horizontalScroll div.fxc-grid-container div.fxc-grid-tableContainer div.fxc-grid-tableScrollContainer{width:100%;overflow-x:auto}.fxc-grid2.fxc-grid-scrolling.fxc-grid-verticalScroll{height:100%;overflow-y:hidden}.fxc-grid2.fxc-grid-scrolling.fxc-grid-verticalScroll div.fxc-grid-container{height:100%;overflow-y:hidden;display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column}.fxc-grid2.fxc-grid-scrolling.fxc-grid-verticalScroll div.fxc-grid-container div.fxc-grid-tableContainer{height:100%;overflow-y:hidden;padding-top:40px;position:relative;-webkit-flex:1 1 auto;flex:1 1 auto;display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column}.fxc-grid2.fxc-grid-scrolling.fxc-grid-verticalScroll div.fxc-grid-container div.fxc-grid-tableContainer div.fxc-grid-tableScrollContainer{height:100%;overflow-y:auto;-webkit-flex:1 1 auto;flex:1 1 auto}.fxc-grid2.fxc-grid-scrolling.fxc-grid-verticalScroll div.fxc-grid-container div.fxc-grid-tableContainer div.fxc-grid-tableScrollContainer table.fxc-grid-tableHeader{position:absolute;top:0;left:0}")})
);define("MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.Scrolling.ctl",["require","exports","f","o","ko","MsPortalImpl.Controls/Controls/Lists/Base/Controls.Lists.Base","Viva.Controls/Util/Viva.Resize","MsPortalImpl/Base/Base.FeatureDetection","MsPortalImpl/Base/Base.Timers","_generated/Less/MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.Scrolling.css"],(function(n,t,i,r,u,f,e,o,s){"use strict";var h;return (function(n){var w=i.Errors,g=w.CanceledError,nt="scrolling",tt="fxc-grid-scrolling",a=window,it=2048,rt=36,ut=.8,v=12,ft=i.startTimer,y=2,t=Math,et=t.abs,b=t.ceil,h=t.floor,l=t.max,c=t.min,ot=u.observableArray,p=u.utils,k=p.applyArraySplices,d=p.createArraySplices,st=(function(n){function t(t){n.call(this,{name:nt,cssClass:tt,widget:t});this._cacheLifetime=this.ltm.createChildLifetime();this._rowLifetimeMap=new i.Map;this._options=t.options.scrolling;var r=this._options;this._lastEndRow=0;this._lastStartRow=0;this._activePageRequest=null;this._lastUpdateTime=0;this.horizontal=r.horizontal!==
!1;this.vertical=r.vertical!==!1;this.vertical&&(this.widget._loader=this);this._resetCache()}return __extends(t,n),t.prototype.dispose=function(){this._updateViewportAsyncTimeout&&(a.clearTimeout(this._updateViewportAsyncTimeout),this._updateViewportAsyncTimeout=null);this._scrollContainer=null;n.prototype.dispose.call(this)},r.defineProperty(t.prototype,"pageNavigator",{get:function(){if(this._pageNav===undefined){var n=this.widget.dataNavigator;this._pageNav=n.loadPage&&n.totalItems&&n.canLoadMore?n:null}return this._pageNav},enumerable:!0,configurable:!0}),r.defineProperty(t.prototype,"demandLoadNavigator",{get:function(){if(this._demandLoadNav===undefined){var n=this.widget.dataNavigator;this._demandLoadNav=n.loadMore&&n.canLoadMore?n:null}return this._demandLoadNav},enumerable:!0,configurable:!0}),r.defineProperty(t.prototype,"allNavigator",{get:function(){if(this._allNavigator===undefined){var n=this.widget.dataNavigator;this._allNavigator=n.loadAll?n:null}return this._allNavigator}
,enumerable:!0,configurable:!0}),r.defineProperty(t.prototype,"virtualScrolling",{get:function(){return this.vertical&&(this.pageNavigator!==null||this.demandLoadNavigator!==null)},enumerable:!0,configurable:!0}),t.prototype.afterCreate=function(){var n=this,t=this.ltm,f=this.widget,i=f.element,u,r;i.toggleClass("fxc-grid-horizontalScroll",this.horizontal);i.toggleClass("fxc-grid-verticalScroll",this.vertical);u=this._scrollContainer=i.find(".fxc-grid-tableScrollContainer");f.attachEvent(u,"scroll.fxGridScrolling",null,(function(){n._update()}));this.virtualScrolling&&(e.track(t,i,(function(){n._update()})),r=this.pageNavigator,r?(r.startIndex.subscribe(t,(function(t){n._activePageRequest||t!==0||(n._updateTableTop(0),u.scrollTop(0),n._updateViewport())})),r.totalItems.subscribe(t,(function(){n._activePageRequest||n._updateViewport()}))):this.demandLoadNavigator.items.subscribe(t,(function(){n._activePageRequest||n._updateViewport()})))},t.prototype.reset=function(){var n=this._scrollContainer;n&&
(n.scrollLeft(0),n.scrollTop(0),this._update())},t.prototype._update=function(){this._updateHeader();this.virtualScrolling&&this._updateViewportAsync()},t.prototype._updateHeader=function(){var t=this._scrollContainer,n;if(t&&(n=t.find(".fxc-grid-tableHeader"),n.length)){var u=-t.scrollLeft(),f=u<0?u+"px":"",c=n.css("left");f!==c&&n.css("left",f);var r=t[0],e=i.truncate(r.offsetWidth-r.clientWidth),o=e>0?"calc(100% - "+e+"px)":"",l=n.css("width");o!==l&&i.truncate(r.clientWidth)!==0&&(n.css("width",o),this.widget.triggerPlugins("headerResized",n.width()));var a=n.outerHeight(),s=a+"px",h=t.parent(".fxc-grid-tableContainer"),v=h.css("padding-top");s!==v&&h.css("padding-top",s)}},t.prototype._updateViewportAsync=function(){var n=this;this._updateViewportAsyncTimeout&&a.clearTimeout(this._updateViewportAsyncTimeout);this._updateViewportAsyncTimeout=a.setTimeout((function(){n._updateViewportAsyncTimeout&&s.requestAnimationFrame((function(){var t=ft();n._updateHeader();n._updateViewport();n._lastUpdateTime=
c(et(t()),5e3)}))}),this._lastUpdateTime)},t.prototype._getRowHeight=function(){var t,i=this._scrollContainer,n;return i&&(n=i.find(".fxc-grid-full td"),n.length&&(t=n.outerHeight())),t||rt},t.prototype._getTotalScrollHeight=function(n,t){if(n){var i=h(ut*o.getMaxElementHeight()),r=h(n*t)+1;return c(r,i)}return t+1},t.prototype._updateContentHeight=function(n){var t=this.widget.element.find(".fxc-grid-tableContent");t.height(n);t.css({position:"relative",overflow:"hidden"})},t.prototype._updateTableTop=function(n){var t=this.widget.element.find(".fxc-grid-full"),r="absolute",f=t.css("position"),i,u;r!==f&&t.css("position",r);i=n+"px";u=t.css("top");i!==u&&t.css("top",i)},t.prototype._updateViewport=function(){var n=this;this.widget.waitForLoad().then((function(){var t;n.pageNavigator?t=n._updatePageViewport():n.demandLoadNavigator&&(t=n._updateDemandLoadViewport());t&&t.catchError(g,(function(){}))}))},t.prototype._updateDemandLoadViewport=function(){var t=this,o=this._scrollContainer,i=this.
demandLoadNavigator,n=i.items().length,s=i.canLoadMore(),e,p;if(o&&(n||s)){var a=this._getRowHeight(),w=this._getTotalScrollHeight(n,a),r=o[0],u=r.clientHeight,k=r.scrollTop||0,d=r.scrollHeight||w||u;if(u){var g=h(n*(k/d)),y=b(u/a),f=g+y+l(y,v);if(s||(f=c(f,n)),e=f-n,e>0)return p=this._activePageRequest,this.waitFor(i.loadMore(e)).finally((function(){t._activePageRequest===p&&(t._updateHeader(),t._activePageRequest=null)}))}}return Q()},t.prototype._updatePageViewport=function(){var t=this,nt=this._scrollContainer,e=this.pageNavigator,n=e.totalItems()||0,o=e.canLoadMore(),s,u,p,f,rt,ut;if(nt&&(n||o)){s=this._getRowHeight();u=this._getTotalScrollHeight(n,s);this._updateContentHeight(u);var w=nt[0],k=w.clientHeight,ft=w.scrollTop||0,tt=w.scrollHeight||u||k;if(k){var d=h(n*(ft/tt)),a=b(k/s),i=l(d-l(a,v),0),r=d+a+l(a,v),et=r-i;o||(r=c(r,n));var ot=r-i,it=d,g=it+a;if(o||(g=c(g,n)),p=this._lastStartRow,p>0&&(p+=y),f=this._lastEndRow,f>y&&(o||n!==f)&&(f-=y),it<p||g>f)return rt=h(tt*(i/n)),this.
_updateTableTop(rt),this._renderRows(i,r,ot),this._lastStartRow=i,this._lastEndRow=r,ut=this._activePageRequest={},this.waitFor(e.loadPage(i,et)).finally((function(){t._activePageRequest===ut&&(t._activePageRequest=null,t._mergeRows(),u=t._getTotalScrollHeight(e.totalItems(),s),t._updateContentHeight(u),t._updateHeader())}));this._updateHeader()}}return Q()},t.prototype._renderRows=function(n,t,i){var r=this.widget._items,f=this._lastStartRow,o=this._lastEndRow,l,u,h,a;if(n<o&&t>f){var e=void 0,s=n-f,c=-s;s>0?(l=r.splice(0,s),this._cacheRows(f,l)):c>0&&(e=[0,0],r.splice.apply(r,e.concat(this._getFillRows(n,c))));u=o-t;h=-u;u>0?(a=r.splice(r.peek().length-u,u),this._cacheRows(t,a)):h>0&&(e=[r.peek().length,0],r.splice.apply(r,e.concat(this._getFillRows(o,h))))}else this._cacheRows(f,r.peek()),r(this._getFillRows(n,i))},t.prototype._getFillRows=function(n,t){var f=[],r,u,i,e;for(f.length=t,r=n,u=0;u<t;u++)i=this._getCachedRow(r),i||(e=this._cacheLifetime.createChildLifetime(),i=this.widget.
createItem(e,{dataItem:null,itemIndex:r+1}),this._rowLifetimeMap.set(i,e)),f[u]=i,r++;return f},t.prototype._resetCache=function(){this._cache=[];this._cache.length=it;this._cacheLifetime.dispose();this._cacheLifetime=this.ltm.createChildLifetime()},t.prototype._cacheRows=function(n,t){for(var i=n,r=0;r<t.length;r++)this._cache[i%this._cache.length]={index:i,row:t[r]},i++},t.prototype._getCachedRow=function(n){var i=n%this._cache.length,t=this._cache[i];return t&&t.index===n?t.row:null},t.prototype.beginLoad=function(){var r=this;this._updateHeader();var n=this.widget,t=n.dataNavigator,i=function(t,i){var u=n.createItem(t,{dataItem:i});return r._rowLifetimeMap.set(u,t),u};if(this.pageNavigator!==null)return this._mergeInto(t.items,this.ltm,i,(function(n,t){if(n){var i=n.navigatorItem();return i!==t&&n.navigatorItem(t),!0}return!1}),n._items),this._updatePageViewport();if(this.demandLoadNavigator!==null)return t.items.mapInto(this.ltm,i,n._items),this._updateDemandLoadViewport();if(this.allNavigator!==
null)return t.items.mapInto(this.ltm,i,n._items),this.waitFor(this.allNavigator.loadAll());throw new w.Error("Scrolling will not work with the current grid data navigator.");},t.prototype._mergeInto=function(n,t,i,r,f){var e=this,o,s,h;return f||(f=ot()),o=function(n){return u.ignoreDependencies((function(){var t=e._cacheLifetime.createChildLifetime(),r=i(t,n);return e._rowLifetimeMap.set(r,t),r}))},f(n.peek().map(o)),s=function(n){return d(n,!0,f.peek(),o)},h=function(){var t=f.peek(),i=n.peek().map((function(n,i){var u=t[i];return r(u,n)?u:o(n)})),u=p.compareArrays(t,i,{sparse:!0});return d(u)},this._mergeRows=function(){var n=h();k(f,n)},n.subscribeArrayEdits(t,(function(n){if(!e._activePageRequest){e._resetCache();var t=s(n),i=k(f,t);i.forEach((function(n){e._rowLifetimeMap.get(n).dispose();e._rowLifetimeMap.delete(n)}))}})),f},t})(f.Plugin);n.Plugin=st})(h||(h={})),h}));define("_generated/Less/MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.Focus.css",["require","exports","module"],(function(
n,t,i){"use strict";window.fx.injectCss(i,".fxc-grid2.fxs-grid-focus table tbody tr[aria-disabled=true] td>div{opacity:.5}.fxc-grid2.fxs-grid-focus table tbody tr[aria-disabled=true] td.fxc-grid-infoBalloon>div{opacity:1}.fxc-grid2.fxs-grid-focus.azc-grid-mousedown{outline:0}")}));define("MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.Focus.ctl",["require","exports","f","i","ko","$","MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.ctl","MsPortalImpl.Controls/Controls/Lists/Base/Controls.Lists.Focus","MsPortalImpl/Base/Base.KeyboardHelper","Viva.Controls/Util/Viva.Util","_generated/Less/MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.Focus.css"],(function(n,t,i,r,u,f,e,o,s,h){"use strict";var c;return (function(n){var p=r.Data,c="focus",l="fxs-grid-focus";n.HasFocusClass="fxs-has-focus";var t=jQuery,a=window,f=u.dataFor,v=u.pureComputed,y=(function(r){function o(n){var t=this;r.call(this,{name:c,cssClass:l,widget:n});this._options=n.options.focus;u.reactor(this.ltm,(function(){if(t.widget.
loadState()===2){var i=n._rows(),r=i.length&&i[0],u=i.first((function(n){return n===t._currentTabbableRow}));t._updateCurrentTabbableRow(u||r)}}))}return __extends(o,r),o.prototype.dispose=function(){this.widget.element.removeClass("fxc-grid-mousedown");r.prototype.dispose.call(this)},o.isEditableControl=function(n){return n.is("input")||n.is("textarea")||n.is("select")||n.is("keygen")},o.prototype.setTemplates=function(n){var t=n.getHtmlTemplate("bodyRowsCore");t.addAttribute("tr","data-bind",["hasFocus: isFocused"])},o.prototype.initializeRow=function(t){var i=this;t.tabindex=v((function(){var r=t.tabbable(),n=-1;return r&&!i.widget._loading()&&(n=0),n}));t.attr.tabindex=t.tabindex;t.context.$tabIndex=t.tabindex;t.css[n.HasFocusClass]=t.isFocused;this.externalHover||(t.css["fxs-portal-focus"]=!0,t.css["fxs-portal-hover"]=!0)},o.prototype.attachEvents=function(){var u=this,n=this.widget,i=n.element,r=n.attachEvent.bind(n);r(i,"click.fxGridFocus","tr.fxc-grid-row:not([aria-disabled=true])",
(function(n,i){t.contains(n[0],a.document.activeElement)||u.focusRow(f(n[0]),i)}));r(i,"keydown.fxGridFocus",null,(function(i,r){var y=e.Selector,a=".fxc-grid-row",p=a+":not([aria-disabled=true])",c=t(r.target),w=c.is(y),l=w?c.find("tr[tabindex=0]"):c.closest(a),h,b=s.getModifierKeys(r),v=!0;if(!o.isEditableControl(c)&&!n._loading()&&b===0){switch(r.which){case 38:l.length&&(h=n.getOrCreatePreviousRow(f(l[0])));break;case 40:l.length&&(h=n.getOrCreateNextRow(f(l[0])));break;case 36:h=n.getFirstEnabledVisibleItem();break;case 35:h=n.getLastEnabledVisibleItem();break;case 33:case 34:h=n.getFocusableByPage(p,r.which);break;default:v=!1}h&&u.focusRow(h,r);v&&r.preventDefault()}}));r(i,"mousedown.fxGridFocus",null,(function(){var n="fxc-grid-mousedown";i.addClass(n);t("body").one("mouseup",(function(){i&&i.removeClass(n)}))}))},o.prototype.focusFirstItem=function(){var t=this.widget,n;t._loading()||(n=i.find(t._rows(),(function(n){return!n.isDisabled()})),n&&this.focusRow(n))},o.prototype.focusRow=function(
n,t){var i;this._updateCurrentTabbableRow(n);n.tabindex()===0&&(n.isFocused(!0),i={focused:n},t&&this.widget.trigger("rowFocus",h.cloneEvent(t,"rowFocus"),i))},o.prototype.focusRowByRowId=function(n){var t=this.widget.getRowById(n);t&&this.focusRow(t)},o.prototype._updateCurrentTabbableRow=function(n){var t=this._currentTabbableRow;n&&n!==t&&(t&&t.tabbable(!1),n.tabbable(!0),this._currentTabbableRow=n)},o})(o.Plugin);n.Plugin=y})(c||(c={})),c}));define("_generated/Less/MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.Selection.css",["require","exports","module"],(function(n,t,i){"use strict";window.fx.injectCss(i,'.fxc-grid2.fxs-grid-selection .fxs-grid-selection-cell-col{width:26px;max-width:26px}.fxc-grid2.fxs-grid-selection .fxs-grid-selection-cell-header{padding-left:7px}.fxc-grid2.fxs-grid-selection .fxs-grid-selection-cell-wrapper{border-width:1px;border-style:solid;box-sizing:border-box;width:17px;height:17px}.fxc-grid2.fxs-grid-selection .fxs-grid-selection-cell-wrapper .fx-grid-formatters-svgicon{margin-top:2px;margin-left:2px;position:relative}.fxc-grid2.fxs-grid-selection .fxs-grid-selection-cell-wrapper .fx-grid-formatters-svgicon svg{vertical-align:top}.fxc-grid2.fxs-grid-selection td.fxc-grid-activatable{font-family:az_ea_font,"Segoe UI",wf_segoe-ui_semibold,"Segoe UI Semibold","Segoe WP Semibold","Segoe WP",Tahoma,Arial,sans-serif;font-weight:600}.fxc-grid2.fxs-grid-selection td.fxc-grid-activatable>span:hover{text-decoration:underline}.fxc-grid2.fxs-grid-selection table td.fxc-grid-activatable>span{cursor:pointer}.fxs-blade-has-activation .fxc-grid2.fxs-grid-selection td.fxc-grid-activatable>span:hover{text-decoration:none}')})
);define("MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.Selection.ctl",["require","exports","f","i","ko","MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.ctl","MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.Focus.ctl","MsPortalImpl/Resources/ImplScriptResources","MsPortalImpl.Controls/Controls/Lists/Base/Controls.Lists.Selection","MsPortalImpl/Base/Base.KeyboardHelper","_generated/Less/MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.Selection.css"],(function(n,t,i,r,u,f,e,o,s,h){"use strict";var c;return (function(n){function nt(n,t){n.forEach((function(n){n.isActivated(t)}))}function tt(n,t){n.forEach((function(n){n.isSelected(t)}))}var it=r.ViewModels,rt=i.Base,ut=rt.Images,w=i.ViewModels,ft=w.Forms.TriStateCheckBox,a=w.Internal.Selection2,et=i.initValue,ot="selection",st="fxs-grid-selection",t=jQuery,v=window,ht='css: { "fxs-grid-multiselection": selection.multiselect }, attr: { "data-grid-activation": selection.activation }',ct="<col class='fxs-grid-selection-cell-col' data-bind='css: { \"azc-collapsed-hidden\": $vm.selection.hiddenInCollapsed }' />",
lt="<th role='presentation' class='fxs-grid-selection-cell-header' data-bind='css: { \"azc-collapsed-hidden\": $vm.selection.hiddenInCollapsed }' aria-hidden='true'><div class='fxs-grid-selection-selectAll' data-bind='pcControl: selection._selectAllCheckbox'><\/div><\/th>",at="<td role='presentation' class='fxs-grid-selection-cell azc-br-muted' data-bind='css: { \"azc-collapsed-hidden\": $vm.selection.hiddenInCollapsed }' aria-hidden='true'><div class='fxs-grid-selection-cell-wrapper fxs-portal-border azc-fill-text'><div class='fxs-grid-selection-cell-check' data-bind='trustedHtml: $ctl.selection._selectionCellFormat($data)'><\/div><\/div><\/td>",b="11px",y="fxc-pseudoHover",k="tr.fxc-grid-row:not([aria-disabled=true])",l=f.EnabledRowSelector,c=u.dataFor,p=u.pureComputed,vt=u.reactor,d=u.utils,yt=d.unwrapObservablePath,g=d.peekObservable,pt=(function(n){function r(t){var u=this,i,r;n.call(this,{name:ot,cssClass:st,widget:t});i=this.options=t.options.selection;this._selectAllCheckbox=new
ft.ViewModel(this.ltm,{ariaLabel:o.Grid.selectAllCheckboxLabel});this._selectAllCheckbox.canUserSetIndeterminate(!1);r=this.selectionMode=i.selectionMode||2;this.multiselect=r===3;this.activation=i.activationMode!==1;this._selectableItems=t.selectableSet.registerItemController((function(n){return{id:n.id(),columnId:u._activationColumn}}),(function(n){return n.data}),(function(n,t,i,r){nt(r,!1);nt(t,!0)}),(function(n,i,r,u,f,e){var s=u?t._rows.peek():e,o;tt(s,!1);o=n?t._rows.peek():r;tt(o,!0)}))}return __extends(r,n),r.prototype.attachEvents=function(){var n=this,o=k+" td.fxc-grid-activatable.fxc-grid-cell > span",r=this.widget,u=r.element,f=r.attachEvent.bind(r),i=this._changeSelection.bind(this);this.activation&&f(u,"click.fxGridActivation",o,(function(t,i){r._loading()||v.getSelection().toString().trim()||(n._changeActivation(t.parents("tr")[0],i),i.stopPropagation())}));f(u,"click.fxGridSelection",k,(function(n,t){r._loading()||v.getSelection().toString().trim()||(n=n.is("tr")?n:n.parent("tr"),
i(n[0],t),t.stopPropagation())}));f(u,"keydown.fxGridSelection",null,(function(u,f){var p,w;if(!r._loading()){var g=v.document.activeElement,ut="tr."+e.HasFocusClass,b=t(f.target),ft=b.hasClass("fxc-grid2"),et=ft?b:b.closest(".fxc-grid2"),nt=t(g).is("tr")||t(g).is("td"),o=nt?t(g).closest("tr"):et.find(ut),a=o.length?o[0]:null,s=a?c(a):null,y=h.getModifierKeys(f),tt=!0,k,it=10,d=n.multiselect,rt=n._selectAllCheckbox;if(s&&!e.Plugin.isEditableControl(b)){switch(f.which){case 32:y===0&&s&&nt&&(s.isSelected()&&(f.ctrlKey=!0),i(a,f));break;case 13:y===0&&s&&nt&&(s.isActivated()||n._changeActivation(a,f));break;case 65:d&&y===8&&(n.selectAllRows(),rt.value(1));break;case 68:y===8&&(n.unselectAllRows(),d&&rt.value(0));break;case 38:case 40:d&&y===4&&(p=void 0,p=f.which===38?o.prevAll(l)[0]:o.nextAll(l)[0],s.isSelected()||i(a,f),p&&(c(p).isSelected()||i(p,f)));break;case 33:case 34:d&&y===4&&(w=void 0,w=f.which===33?o.prevAll(l):o.nextAll(l),k=w.length<it-1?w:w.slice(0,it-1),s.isSelected()||i(a,
f),k.each((function(n,t){c(t).isSelected()||i(t,f)})));break;case 36:case 35:n.multiselect&&y===4&&(k=f.which===36?o.prevAll(l):o.nextAll(l),n.unselectAllRows(),s.isSelected()||i(a,f),k.each((function(n,t){c(t).isSelected()||i(t,f)})));break;default:tt=!1}tt&&(f.stopPropagation(),f.preventDefault())}}}));this._selectAllCheckbox.value.subscribe(this.ltm,(function(t){switch(t){case 1:n.selectAllRows();break;case 0:n.unselectAllRows()}}))},r.prototype.pseudoFocusFirstItem=function(){this.widget.element.addClass(y)},r.prototype.pseudoBlurFirstItem=function(){this.widget.element.removeClass(y)},r.prototype.activateFirstItem=function(){if(!this.widget._loading()){var n=i.find(this.widget._rows(),(function(n){return!n.isDisabled()}));n&&(this.activation?this.activateRows(n):(this.unselectAllRows(),this.selectRows(n)))}},r.prototype.activateRows=function(){for(var t=[],n=0;n<arguments.length;n++)t[+n]=arguments[n];this._selectableItems.activateItems(t)},r.prototype.deactivateAllRows=function(){this.widget.
selectableSet.deactivateAll()},r.prototype.selectAllRows=function(){this.widget.selectableSet.selectAll()},r.prototype.selectRows=function(){for(var t=[],n=0;n<arguments.length;n++)t[+n]=arguments[n];this._selectableItems.selectItems(t);var i=this.widget,r=i.dataNavigator.totalItems(),u=i.selectableSet.selectedIds().length;r&&u&&r===u&&this.selectAllRows()},r.prototype.unselectAllRows=function(){this.widget.selectableSet.unselectAll()},r.prototype.unselectRows=function(){for(var t=[],n=0;n<arguments.length;n++)t[+n]=arguments[n];this._selectableItems.unselectItems(t);var i=this.widget,r=i.dataNavigator.totalItems(),u=i.selectableSet.unselectedIds().length;r&&u&&r===u&&this.unselectAllRows()},r.prototype.dispose=function(){n.prototype.dispose.call(this);this.widget.element.removeClass(y);this._selectAllCheckbox.dispose()},r.prototype.getAdditionalColumns=function(){var n=this.options;return n.selectionMode===3?n.hiddenInCollapsed&&this.widget.element.parents(".fxs-blade-has-activation").
length?0:1:0},r.prototype.getSelectedRows=function(){return this.widget._rows().filter((function(n){return n.isSelected()}))},r.prototype.initializeRow=function(n){var i=this,t=this.widget.selectableSet,r=t.selectedAll();n.isSelected=n.delayedProperty(r,(function(n){var i=g(n.id),r=t.selectedAll();return r?!t.unselectedIds().some((function(n){return a.compareIds(i,n.id)})):t.selectedIds().some((function(n){return a.compareIds(i,n.id)}))}));n.isActivated=n.delayedProperty(!1,(function(n){var i=g(n.id);return t.activatedIds().some((function(n){return a.compareIds(i,n.id)}))}));n.activationLink=p((function(){if(i.options.linkUriProperty)return yt(n.data,i.options.linkUriProperty)}));n.attr["aria-selected"]=n.isSelected;n.attr["data-grid-activated"]=n.isActivated;n.css["fxs-portal-selected"]=n.isSelected;n.css["fxs-portal-activated"]=n.isActivated;n.css["fxc-grid2-link"]=p((function(){return!!n.activationLink()}))},r.prototype.initializeColumn=function(n,t){n.activatable=et(t.activatable,!1);n.css["fxc-grid-activatable"]=
n.activatable},r.prototype.initializeCells=function(n,t){this.widget._columns().filter((function(n){return n.activatable})).length>1&&(t.attr.tabindex=p((function(){return t.column.activatable?n.tabindex():null})))},r.prototype.onLoadComplete=function(){var n=this;if(!this.multiselect){var t=void 0,i=this.getSelectedRows(),r=i?i.length:0;if(r>=1)for(t=1;t<r;t++)i[t].isSelected(!1)}vt(this.ltm,(function(){var u=n.options._msPortalFxSelectableSet.selectedIds().length,r=n.options._msPortalFxSelectableSet.unselectedIds().length,t=n.options.selectedAll(),i=n._selectAllCheckbox;t&&r===0?i.value(1):!t&&u>0||t&&r>0?i.value(2):i.value(0)}))},r.prototype.setTemplates=function(n){var i=n.getTemplate("bodyRowsContent"),r=n.getHtmlTemplate("header"),u=n.getHtmlTemplate("colgroup"),f=n.getHtmlTemplate("table"),t;f.addAttribute("table","data-bind",[ht]);this.multiselect&&(t=new it.Controls.Lists.Grid2.Formatters.SvgIconLookup({svgIconLookup:{"true":{svg:ut.Check({palette:99})}},height:b,width:b}),this._selectionCellFormatter=
this.widget._getFormatter(t),n.setTemplate("bodyRowsContent",at+i),r.prepend("tr",lt),u.prepend("colgroup",ct))},r.prototype._changeActivation=function(n,i){var r,u,f,e;t(n).closest("tr").focus();r=c(n);u=t(i.target).closest("td")[0];r.activationLink()?(window.open(r.activationLink()),i&&i.stopPropagation()):(u?(f=c(t(i.target).closest("td")[0]),e=f.column.id,this._activationColumn=e):this._activationColumn="",this.activateRows(r))},r.prototype._changeSelection=function(n,t){var e=this.options.selectionMode,o,h;switch(e){case 2:o=!1;break;case 3:o=!0;break;default:throw new Error("Unknown selection mode: "+e+".");}var u=c(n),r=null,i=[],l=u.isSelected(),s=-1,f;if(o)l?i=[u]:r=u;else{for(i=this.getSelectedRows(),f=i.length-1;f>=0;f--)h=i[f],h!==u||(s=f);s<0?r=u:e===2&&(!1||t.ctrlKey||t.shiftKey)||i.splice(s,1)}(r||i.length>0)&&(this.unselectRows.apply(this,i),r&&(this.selectRows(r),this.widget.focus.focusRow(r)))},r.prototype._selectionCellFormat=function(n){return this._selectionCellFormatter.
format(n.isSelected(),null).html},r})(s.Plugin);n.Plugin=pt})(c||(c={})),c}));define("_generated/Less/MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.Sorting.css",["require","exports","module"],(function(n,t,i){"use strict";window.fx.injectCss(i,".fxc-grid2.fxc-grid-sorting a.fxc-sortable{cursor:pointer;height:40px;display:inline-block;width:100%}.fxc-grid2.fxc-grid-sorting .fxc-grid-headerlabel{display:block;float:left;max-width:calc(100% - 35px)}.fxc-grid2.fxc-grid-sorting .fxc-grid-sorting-sortImage{vertical-align:middle;display:inline-block}.fxc-grid2.fxc-grid-sorting .fxc-grid-sorting-sortImage svg{padding-left:10px;width:12px;height:12px}.fxc-grid2.fxc-grid-sorting .fxc-ascending .msportalfx-descend,.fxc-grid2.fxc-grid-sorting .fxc-descending .msportalfx-ascend,.fxc-grid2.fxc-grid-sorting .fxc-none .msportalfx-ascend,.fxc-grid2.fxc-grid-sorting .fxc-none .msportalfx-descend{opacity:.25}")}));define("MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.Sorting.ctl",["require","exports","f",
"o","ko","MsPortalImpl.Controls/Controls/Lists/Base/Controls.Lists.Base","MsPortalImpl/Base/Base.KeyboardHelper","MsPortalImpl/Svg/Startup/SortArrows.svg","_generated/Less/MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.Sorting.css"],(function(n,t,i,r,u,f,e,o){"use strict";var s;return (function(n){var t=i.initValue,e=i.initObservable,s="sorting",h="fxc-grid-sorting",c='style: { width: width }, attr: { "class": "fxc-grid-sorting-header" }',l="<a role='columnheader' data-bind='attr:{ class: $ctl.sorting._getSortClasses(sortable, sortOrder()), \"aria-sort\": sortable && $ctl.sorting._getAriaSort(sortOrder()), tabindex: sortable ? 0 : null, id: columnId }' ><span class='fxc-grid-headerlabel' data-bind='text: name'><\/span><span class='fxc-grid-sorting-sortImage fxs-portal-svg' data-bind='image: $ctl.sorting.sortIcon, visible: sortable'><\/span><\/a>",a=(function(n){function i(t){n.call(this,{name:s,cssClass:h,widget:t});this.sortIcon=o;this.options=t.options.sorting}return __extends(i,n),i.
prototype.dispose=function(){n.prototype.dispose.call(this)},r.defineProperty(i.prototype,"dataNavigator",{get:function(){return this.widget.dataNavigator},enumerable:!0,configurable:!0}),i.prototype.setTemplates=function(n){var t=n.getHtmlTemplate("headerCell");t.addAttribute("th","data-bind",[c]);n.setTemplate("headerCellContent",l)},i.prototype.attachEvents=function(){var n=this,t=function(t,i){var r=u.dataFor(t[0]),f=[];if(i.preventDefault(),r.sortable){switch(r.sortOrder()){case 1:r.sortOrder(2);break;case 0:case 2:default:r.sortOrder(1)}n.widget._columns().forEach((function(n){n.sortable&&(n===r?f.push({property:{name:n.id},direction:r.sortOrder()===1?1:0}):n.sortOrder(0))}));n.dataNavigator.sortOrder(f);n.widget._internalLoading(!0);n.dataNavigator.refresh().finally((function(){n.widget._internalLoading(!1)}))}};this.widget.attachEvent(this.widget.element,"click.fxGridSorting",".fxc-sortable",t);this.widget.attachEvent(this.widget.element,"keypress.fxGridSorting",".fxc-sortable",(function(
n,i){(i.which===13||i.which===32)&&t(n,i)}))},i.prototype.initializeColumn=function(n,i){n.sortable=t(i.sortable,!0);n.sortOrder=e(i.sortOrder,0)},i.prototype._getAriaSort=function(n){switch(n){case 1:return"ascending";case 2:return"descending"}return"none"},i.prototype._getSortClasses=function(n,t){return n?"fxc-sortable fxc-"+this._getAriaSort(t):""},i})(f.Plugin);n.Plugin=a})(s||(s={})),s}));define("MsPortalImpl.Controls/Controls/Lists/Grid2/GridB",["require","exports","MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.ctl","MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.ContextMenu.ctl","MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.Scrolling.ctl","MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.Selection.ctl","MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.Sorting.ctl","MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.Resizing.ctl"],(function(n,t,i){"use strict";var r;return (function(n){n.Row=i.Row;n.Widget=i.Widget;n.Plugin=i.Plugin;n.TrustedWidget=i.TrustedWidget})(r||(r={})),r})
)