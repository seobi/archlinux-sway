define("HubsExtension/ResourceMap/AssetViewModels/ResourceGroupViewModel",["require","exports","f","i","ko","HubsExtension/ResourceMap/ResourceMapClientStrings","HubsExtension/_generated/BladeReferences","HubsExtension/Common/CloudNameHelpers"],(function(n,t,i,r,u,f,e,o){"use strict";var s;return (function(n){function s(n,t,i,r,f){return{id:n,displayText:t,keywords:i,enabled:u.observable(!0),icon:r,supplyBladeReference:f}}function y(n,i){var r=f.ResourceGroup,u=r.Settings,b=r.SettingsKeywords,k=r.QuickStart,l=n.resourceId,y={id:l},p={resourceGroup:l},o=[s("quickstart",k.bladeTitle,null,h.QuickStart(),(function(){return t(i,new e.ResourceGroupQuickStartBladeReference(p))}))],w;return v||o.push(s("costs",u.costs,null,h.BillingHub(),(function(){return t(i,new e.ResourceGroupCostsBladeReference(y))}))),o.push(s("deployments",u.deployments,[b.Deployments.templates],c.Commits(),(function(){return t(i,new e.DeploymentsListBladeReference(p))}))),w={defaultItemId:"overview",overview:s("overview",u.overview,
null,h.ResourceGroup(),(function(){return t(i,new e.ResourceGroupMapBladeReference(y))})),options:{enableRbac:!0,enableTags:!0,enableProperties:!0,enableMetrics:!0,enableAlerts:!0,enableSupportResourceAdvisor:!0,enableDiagnostics:!0,enableAppInsights:!0,enableLogAnalytics:!0,enableLogSearch:!0,enableSupportHelpRequest:!0},groups:[{referenceId:a.ManagementGroupId,items:o}]},Q(w)}var l=i.Base,a=i.Assets,c=l.Images,h=c.Polychromatic,t=o.addCloudNameToBladeReference,v=i.isFeatureEnabled("hidecosts"),p=(function(){function n(){}return n.prototype.getMenuConfig=function(n){return y(n,r.Extension.CloudName.readFromInputs(n))},n})();n.ResourceGroupViewModel=p})(s||(s={})),s}));define("HubsExtension/ResourceMenuBlade/ViewModels/ResourceMenuBlade",["require","exports","f","i","ko","Fx/Composition/Pdl/MenuBlade","Fx/Composition/Selectable","HubsExtension/Browse/BrowseClientStrings","HubsExtension/ResourceMap/ResourceMapClientStrings","HubsExtension/_generated/BladeReferences","HubsExtension/_generated/ExtensionDefinition",
"HubsExtension/_generated/Microsoft_Azure_Monitoring/BladeReferences","HubsExtension/_generated/Microsoft_Azure_Policy/BladeReferences","HubsExtension/_generated/Microsoft_Azure_Resources/BladeReferences","HubsExtension/ArmHelpers/ArmApisStartup","HubsExtension/Common/AssetTypeCache","HubsExtension/Common/AssetViewModelCommon","HubsExtension/Common/BrowseCuration","HubsExtension/Common/CloudNameHelpers","HubsExtension/Common/CommonErrorHandling","HubsExtension/Common/HubsObservables","HubsExtension/Common/RecentResources","HubsExtension/ResourceMap/AssetViewModels/ResourceGroupViewModel","HubsExtension/ResourceMap/ResourceMapCommon"],(function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it){"use strict";var rt;return (function(t){function ht(n){return(n||"").toLowerCase()}function bt(){return i.isFeatureEnabled("hidesupport")}function fr(){return i.isFeatureEnabled("hidehealthcheck")}function ft(n,t,i,r,f){return{id:n,displayText:t,keywords:[i],enabled:u.observable(!0),icon:r,supplyBladeReference:
f}}function kt(n,t){var r=n.first((function(n){return ht(n.id)===ht(t.id)}));return r||(r=i.clone(t,!0,!0),n.push(r)),r}function ct(n){return kt(n,oi)}function li(n){return kt(n,si)}function dt(n){return kt(n,hi)}function yt(n){return kt(n,ci)}function et(n,t){n.forEach((function(n){n.items.filter((function(n){return n.id===t})).forEach((function(t){n.items.remove(t)}))}))}function er(n,t,i){var r=rt.MyAccessItemId;et(i,r,n);ct(i).items.push(ft(r,ut.accessDetails,null,lt.Person(3),(function(){return k.addCloudNameToBladeReference(t,new h.MyAccessBladeReference({resourceId:n}))})))}function or(n,t,i,r){var u=rt.ResourceProvidersItemId;et(i,u,n);ct(i).items.push(ft(u,ut.resourceProviders,null,st.Backlog(),(function(){return k.addCloudNameToBladeReference(t,new h.RPStatusBladeReference({subscriptionId:r.subscription}))})))}function sr(n,t,i,r,u){var f=rt.ExportTemplateItemId;et(u,f,n);ct(u).items.push(ft(f,ut.exportTemplate,ut.Keywords.exportTemplate,st.Download(),(function(){return new h.TemplateViewerBladeReference(
ni.addToModel(r,{options:{resourceGroup:t,telemetryId:i}}),null)})))}function hr(n,t,i){var r=rt.PropertiesItemId;et(i,r,n);ct(i).items.push(ft(r,ut.properties,null,lt.Properties(),(function(){return k.addCloudNameToBladeReference(t,new h.ResourcePropertiesReference({id:n}))})))}function cr(n,t,i){var u=rt.UsersItemId;et(i,u,n);dt(i).items.push(ft(u,ut.accessControl,ut.access,lt.PersonWithFriend(3),(function(){return k.addCloudNameToBladeReference(t,new r.Composition.Selectable.PdlBladeReference("UserAssignmentsV2Blade","Microsoft_Azure_AD",{parameters:{scope:n}}))})))}function lr(n,t,i){var r=rt.TagsItemId;et(i,r,n);dt(i).items.push(ft(r,ut.tags,null,lt.Tag(),(function(){return k.addCloudNameToBladeReference(t,new h.ResourceTagsListBladeReference({resourceId:n}))})))}function ar(n,t,i,r){var u=rt.LocksItemId;et(i,u,n);ct(i).items.push(ft(u,r?ut.locksForSubscriptions:ut.locks,null,lt.Lock(),(function(){return k.addCloudNameToBladeReference(t,new h.LocksBladeReference({resourceId:n}))})))}function vr(
n,t,i){var r=rt.SupportHelpRequestItemId;et(i,r,n);li(i).items.push(ft(r,ut.helpRequest,ut.Keywords.helpRequest,lt.Support(),(function(){return k.addCloudNameToBladeReference(t,wi(n))})))}function ai(n,t,i,r){var u=rt.TroubleshootItemId;et(i,u,n);dt(i).items.unshift(ft(u,ut.troubleshoot,ut.Keywords.troubleshoot,lt.Tools(),(function(){return k.addCloudNameToBladeReference(t,new e.PdlBladeReference(r?"TroubleshootV2Blade":"TroubleshootBlade",ii,{parameters:{assetId:n}}))})))}function yr(n,t,i){var r=rt.ResourceHealthItemId;et(i,r,n);li(i).items.unshift(ft(r,ut.resourceHealth,ut.Keywords.resourceHealth,lt.HeartPulse(),(function(){return k.addCloudNameToBladeReference(t,new e.PdlBladeReference("ResourceHealthDetailBlade",ii,{parameters:{resourceId:n}}))})))}function pr(n,t,i){var r=rt.ResourceAdvisorItemId;et(i,r,n);yt(i).items.unshift(ft(r,ut.resourceAdvisor,ut.Keywords.resourceAdvisor,st.Advisor(),(function(){return k.addCloudNameToBladeReference(t,new e.PdlBladeReference("AdvisorBlade",pt.Constants.
ExtensionNames.AzureExpert,{parameters:{resourceId:n}}))})))}function wr(n,t,i){var r=rt.EventLogsItemId;et(i,r,n);dt(i).items.unshift(ft(r,ut.eventLogs,ut.Keywords.eventLogs,st.Log(),(function(){var i=new l.EventsBrowseBladeReference({queryInputs:{id:n}});return k.addCloudNameToBladeReference(t,i)})))}function br(n,t,i,r){var u=rt.SubscriptionCertsItemId;et(i,u,n);ct(i).items.push(ft(u,ut.subCerts,null,st.Certificate(),(function(){var n=r&&r.subscription,i=new e.PdlBladeReference("ManagementCertsBlade","Microsoft_Azure_ClassicResources",{parameters:{id:n}});return k.addCloudNameToBladeReference(t,i)})))}function kr(n,t,i,r){var u=rt.SubscriptionQuotasItemId;et(i,u,n);ct(i).items.push(ft(u,ut.quotas,ut.Keywords.quotas,st.ControlsHorizontal(),(function(){var n=r&&r.subscription,i=new v.QuotasBladeReference({bladeInputs:{subscriptionId:n}});return k.addCloudNameToBladeReference(t,i)})))}function vi(n,t,r){var u=function(n,t,i,r){var u="policies";et(i,u,n);ct(i).items.push(ft(u,o.ArmPolicyBlade.
title,o.ArmPolicyBlade.keywords,st.Files(),(function(){return k.addCloudNameToBladeReference(t,r)})))};i.isFeatureEnabled("showpolicies")?u(n,t,r,new a.ArmPolicyBladeReference({bladeInputs:{id:n}})):i.isFeatureEnabled("showpolicyhub")&&u(n,t,r,new a.PolicyMenuBladeReference({scope:n}))}function dr(n,t,i){var r=rt.ResourceGroupsItemId;et(i,r,n);ct(i).items.push(ft(r,ut.resourceGroups,ut.resources,st.ResourceGroup(),(function(){return k.addCloudNameToBladeReference(t,new h.ResourcesReference({scope:n,resourceType:wt}))})))}function gr(n,t,i){var r=rt.ResourcesItemId;et(i,r,n);ct(i).items.push(ft(r,ut.resources,ut.resourceGroups,st.Grid(),(function(){return k.addCloudNameToBladeReference(t,new h.ResourcesReference({scope:n,resourceType:ti.AllResources}))})))}function nu(n,t,i){var r=rt.AlertsItemId;et(i,r,n);yt(i).items.push(ft(r,o.ResourceMenuBlade.alertRules,o.ResourceMenuBlade.alertRulesKeywords,st.Notification(),(function(){return k.addCloudNameToBladeReference(t,new l.AlertsBladeReference({
queryInputs:{id:n}}))})))}function tu(n,t,i){var r=rt.DiagnosticsItemId;et(i,r,n);yt(i).items.push(ft(r,o.ResourceMenuBlade.diagnostics,o.ResourceMenuBlade.diagnosticsKeywords,st.LogDiagnostics(),(function(){return k.addCloudNameToBladeReference(t,new l.DiagnosticsLogsBladeReference({queryInputs:{id:n}}))})))}function iu(n,t,i){var r=rt.MetricsItemId;et(i,r,n);yt(i).items.push(ft(r,o.ResourceMenuBlade.metrics,o.ResourceMenuBlade.metricsKeywords,st.Chart(),(function(){return k.addCloudNameToBladeReference(t,new l.MetricsBladeV2Reference({id:n}))})))}function ru(n,t,i,r){r===void 0&&(r=!1);var u=rt.AppInsightsItemId;et(i,u,n);yt(i).items.push(ft(u,o.ResourceMenuBlade.appInsights,o.ResourceMenuBlade.appInsightsKeywords,st.AppInsights(),(function(){var i=n,r;return ot.isResourceId(n)&&!ot.isTenantResource(n)&&(r=ot.parseResourceDescriptor(n),i="/subscriptions/"+r.subscription),k.addCloudNameToBladeReference(t,new h.BrowseResourceBladeReference({resourceType:"microsoft.insights/components",scope:
i}))})))}function uu(n,t,i){var r=rt.LogAnalyticsItemId;et(i,r,n);yt(i).items.push(ft(r,o.ResourceMenuBlade.logAnalytics,o.ResourceMenuBlade.logAnalyticsKeywords,st.OperationalInsights(),(function(){var i=n,r;return ot.isResourceId(n)&&!ot.isTenantResource(n)&&(r=ot.parseResourceDescriptor(n),i="/subscriptions/"+r.subscription),k.addCloudNameToBladeReference(t,new h.BrowseResourceBladeReference({resourceType:"Microsoft.OperationsManagement/solutions",scope:i}))})))}function fu(n,t,i){var r=rt.LogSearchItemId;et(i,r,n);yt(i).items.push(ft(r,o.ResourceMenuBlade.logSearch,o.ResourceMenuBlade.logSearchKeywords,st.Search(),(function(){return k.addCloudNameToBladeReference(t,new h.BrowseResourceBladeReference({resourceType:"Microsoft.OperationalInsights/workspaces"}))})))}function eu(n,t,i,u,f){var w=ot.isTenantResource(n),s=ot.isSubscriptionId(n),o=ot.isResourceGroupId(n),h=ot.isResourceId(n),c=s||o||h,a=o?n:h?ot.buildResourceGroupIdFromResourceId(n):null,v=o?wt:h?ot.buildResourceTypeFromResourceId(
n):null,y=ht(v).startsWith("microsoft.classic"),l=!1,e=null,p;s&&(e=ot.parseSubscriptionDescriptor(n),p=e&&g.getSubscriptionInfo(e.subscription,t),l=r.Azure.isZeroCapSubscription(p));u=u||{};bt()||u.enableSupportHelpRequest===!1||vr(n,t,i);bt()||fr()||!u.enableSupportResourceHealth||yr(n,t,i);c&&u.enableSupportEventLogs!==!1&&wr(n,t,i);!bt()&&u.enableSupportTroubleshoot&&ai(n,t,i,!1);!bt()&&u.enableSupportTroubleshootV2&&ai(n,t,i,!0);vt&&u.enableMetrics&&iu(n,t,i);vt&&u.enableAlerts&&nu(n,t,i);vt&&u.enableDiagnostics&&tu(n,t,i);vt&&nr&&u.enableAppInsights&&ru(n,t,i,u.showAppInsightsFirst);vt&&ei&&u.enableLogAnalytics&&uu(n,t,i);vt&&ei&&u.enableLogSearch&&fu(n,t,i);vt&&u.enableSupportResourceAdvisor&&pr(n,t,i);s&&(l||(dr(n,t,i),gr(n,t,i),ir||kr(n,t,i,e),vi(n,t,i),tr||br(n,t,i,e)),er(n,t,i),or(n,t,i,e));o&&vi(n,t,i);!c&&w||l||u.enableLocks===!1||ar(n,t,i,s);c&&!y&&u.enableTags!==!1&&lr(n,t,i);c&&u.enableRbac!==!1&&cr(n,t,i);rr||!a||y||u.enableExportTemplate===!1||sr(n,a,v,t,i);f&&(o||h)&&
u.enableProperties===!0&&hr(n,t,i)}function yi(n,t,u,f){if(t===ri.extensionName)return f;var e=i.clone(f,!1);return delete e.supplyBladeReference,e.supplyBladeReferenceAsync=function(){return n.isDisposed()?Q.reject(new di.DisposedError({message:"Blade opening cancelled.",errorLevel:0})):r.Assets.supplyMenuDetailBladeReferenceAsync(n,{name:t,cloudName:u},f)},e}function ou(n,t){var i=s.ResourceGroup.SettingsKeywords.Properties,r={id:"overview",displayText:s.ResourceGroup.Settings.overview,enabled:u.observable(!0),icon:st.Controls(),keywords:[i.location,i.subscription],supplyBladeReference:function(){return k.addCloudNameToBladeReference(t,new h.ResourcePropertiesReference({id:n,overrideIcon:!0}))}};return{groups:[],overview:r,options:{enableTags:!1}}}function pi(n){var t=i.clone(n,!0,!0);return t.items.forEach((function(t){var i=n.items.first((function(n){return n.id===t.id}));t.enabled=i.enabled;t.visible=i.visible})),t}function gt(n,t,i){var u=[],r=[];n.items.forEach((function(n){t.indexOf(
n.id)>=0?r.push(n):u.push(n)}));r.sort((function(n,i){return t.indexOf(n.id)-t.indexOf(i.id)}));n.items=i?u.concat(r):r.concat(u)}function su(n,t){var u,f,e,o,i=[],s=[],r;return n.forEach((function(n){switch(n.id){case rt.QuickAccessGroupId:u=n;break;case rt.ManagementGroupId:f=n;break;case rt.MonitoringGroupId:o=n;break;case rt.SupportGroupId:e=n;break;default:n.elevated?s.push(n):i.push(n)}})),f&&(gt(f,[rt.PropertiesItemId,rt.LocksItemId,rt.ExportTemplateItemId],!0),i.unshift(f)),i=s.concat(i),u&&(gt(u,[rt.EventLogsItemId,rt.UsersItemId,rt.TagsItemId,rt.TroubleshootItemId]),i.unshift(u)),o&&(r=[rt.MetricsItemId,rt.AlertsItemId,rt.DiagnosticsItemId],t.showAppInsightsFirst?r.unshift(rt.AppInsightsItemId):r.push(rt.AppInsightsItemId),r.push(rt.LogAnalyticsItemId),r.push(rt.LogSearchItemId),gt(o,r),i.push(o)),e&&(gt(e,[rt.SupportHelpRequestItemId],!0),i.push(e)),i}function hu(n,t,r,u,f,e){var o=r.map((function(n){var t,u,r;if(n.hasOwnProperty("referenceId")){if(t=pi(n),u=ur[t.referenceId],!u)throw new
Error("There was a menu group extension for an unknown internal menu group '"+t.referenceId+"'");return r=i.clone(u,!0,!0),r.items.push.apply(r.items,t.items),r}return pi(n)})),s;return eu(n,t,o,u,f),s=f&&f.extensionName||c.definitionName,o=o.map((function(n){return n.items=n.items.map((function(n){return yi(e,s,t,n)})),n})),su(o,u)}function cu(n){return rt.assetTypeInformationSupportsContract(n,32)?n.staticOverview||{}:null}function wi(n){return new e.ParameterProviderBladeReference(i.isFeatureEnabled("linknewquesttosupportblade")?"HelpAndSupportBlade":"NewSupportRequestBlade",ii,{parameters:{assetId:n},supplyInitialData:i.wrap(""),receiveResult:i.noop,supplyProviderConfig:function(){return{provisioningConfig:{provisioningEnabled:!0,dontDiscardJourney:!0}}}})}function ui(n,t){return function(i){return!t.isDisposed()&&n===ht(i)}}function lu(n,t){var i,u=ht(n.kind),r;return t.kinds&&!t.kinds.some((function(n){return(n.isDefault&&(r=n),ht(n.name)===u)?(i=n,!0):!1}))&&r&&(i=r),i}function au(n,t,
i){return n=ht(n),t&&n===ht(t.id)||i.some((function(t){return t.items.some((function(t){return ht(t.id)===n}))}))}function bi(n,t,r){t===void 0&&(t=undefined);r===void 0&&(r=undefined);var u;return(i.forEachKey(n,(function(t){ht(t)==="menuid"&&(u=n[t])})),r&&u&&!au(u,t,r))?(fi.warning("The specified menu id '{0}' does not exist on the menu".format(u)),undefined):u}function at(n,t,i){n[t]=i()}var pt=i.Base,ki=i.ViewModels,lt=pt.Images,st=lt.Polychromatic,ni=r.Extension.CloudName,ot=ki.Services.ResourceTypes,rt=i.Assets,ti=pt.Constants.ResourceTypes,ii=pt.Constants.ExtensionNames.Support,wt=ti.ResourceGroups,di=i.Errors,gi=window,ri=gi.fx.environment,fi=pt.Diagnostics.createLog(n),ut=i.Resources.Strings.Part.SettingList,vt=i.isFeatureEnabled("enablemonitoringgroup"),ei=i.isFeatureEnabled("isomsextensionavailable"),nr=i.isFeatureEnabled("isinsightsextensionavailable"),tr=i.isFeatureEnabled("hidecertsmenuforsubscription"),ir=i.isFeatureEnabled("hidequotasmenuforsubscription"),rr=i.isFeatureEnabled(
"hideexport"),oi={id:rt.ManagementGroupId,displayText:ut.Group.settings,items:[]},si={id:rt.SupportGroupId,displayText:ut.Group.support,items:[]},hi={id:rt.QuickAccessGroupId,displayText:rt.QuickAccessGroupId,items:[]},ci={id:rt.MonitoringGroupId,displayText:ut.Group.monitoring,items:[]},ur=[oi,si,hi,ci].reduce((function(n,t){return n[t.id]=t,n}),{}),vu=(function(n){function t(t){n.call(this,t);this._lastPopulatePromise=Q(!0);this.title(o.ResourceMenuBlade.title);this.icon(st.ResourceDefault());this._lifetime=this._container=t;this.menu.groupSortFunction=f.SortFunction.Default;this.menu.groupSortOrder=0}return __extends(t,n),t.prototype.onInputsSet=function(n){var t=this;this._id=n.id;var r=this._id,u=ni.readFromInputs(n),f=function(i,f,e){n._msPortalFxForPinning||nt.getRecentsManager().addRecent(t._childLifetime,u,r,i,f,e)};return this._lastPopulatePromise.then((function(){var o={},b,et,st,a,l,lt;i.disposeDisposable(t._childLifetime);var ft=t._childLifetime=t._lifetime.createChildLifetime(
),v=function(n){t.menu.groups([]);t.menu.setOptions({});t.title(n.title);d.updateContainerForError(n,t._container)},w=function(i,r,f,e){return{id:t._id,cloudName:u,childLifetime:ft,inputs:n,telemetryInfo:o,resourceType:i,resource:r,isResource:f,subscription:e}},e=ui(ht(r),ft);if(ot.isSubscriptionId(r))return b=ot.parseSubscriptionDescriptor(r).subscription,t.title(b),et="subscriptionGetSubscriptionInfoTime",st=i.startTimer(),t._lastPopulatePromise=g.getSubscriptionInfoPromise(b,u).then((function(n){if(d.clearContainerError(t._container),at(o,et,st),e(r)){t.title(n.displayName);var i=ti.Subscriptions;return t._processResourceType(w(i,n,!1)).then((function(){f(n.displayName)}))}})).catch((function(n){if(e(r))return v(d.getErrorTitleAndMessage(n,r,!0))})),t._lastPopulatePromise;if(ot.isResourceGroupId(r)){a=ot.parseResourceGroupDescriptor(r);t.title(a.resourceGroup);t.subtitle(s.AssetTypeNames.ResourceGroup.singular);var h="resourceGroupGetResourceGroupTime",c=i.startTimer(),k=n.referrerInfo,vt=
k&&k.sessionId===ri.sessionId&&k.instance,ct=y.makeResourceManagerTelemetry("ResourceMenu.resourceGroup"),yt=Q(vt||it.ResourceGroupClient.getResourceGroup(r,u,ct));return t._lastPopulatePromise=yt.then((function(n){if(d.clearContainerError(t._container),at(o,h,c),e(r))return h="resourceGroupGetSubscriptionInfoTime",c=i.startTimer(),Q(g.getSubscriptionInfoPromise(a.subscription,u)).then((function(s){if(at(o,h,c),e(r))return h="resourceGroupResourceTypeAssetTypeInfoTime",c=i.startTimer(),Q(p.getResourceTypeAssetTypeInformation(wt,u)).then((function(i){if(at(o,h,c),!e(r))return null;var u=new tt.ResourceGroupViewModel(null,null,null);return t._processMenuConfig(w(wt,n,!1,s),!0,u,i).then((function(){f(a.resourceGroup,n.location)}))}))}))})).catch((function(n){if(e(r)){var t=d.getErrorTitleAndMessage(n,r);if(t)return v(t);throw n;}})),t._lastPopulatePromise}if(ot.isResourceId(r)){l=ot.parseResourceDescriptor(r);lt=ot.buildResourceTypeFromResourceDescriptor(l);t.title(l.resource);var nt="resourceGetResourceTime",
rt=i.startTimer(),ut=n.referrerInfo,pt=ut&&ut.sessionId===ri.sessionId&&ut.instance,ct=y.makeResourceManagerTelemetry("ResourceMenu.resource"),bt=Q(pt||it.ResourceClient.getResource(r,u,ct));return t._lastPopulatePromise=bt.then((function(n){if(d.clearContainerError(t._container),at(o,nt,rt),e(r)){nt="resourceGroupGetSubscriptionInfoTime";rt=i.startTimer();var s=Q(ot.isTenantResource(r)?null:g.getSubscriptionInfoPromise(l.subscription,u));return s.then((function(i){if(at(o,nt,rt),e(r))return t._processResourceType(w(ht(lt),n,!0,i)).then((function(){f(l.resource,n.location,n.kind)}))}))}})).catch((function(n){if(e(r)){var t=d.getErrorTitleAndMessage(n,r);if(t)return v(t);throw n;}})),t._lastPopulatePromise}t._lastPopulatePromise=Q(!0);fi.warning("No resource menu for given ID (must be subscription, resource group or resource): '"+ot.sanitizeId(r)+"'");return}))},t.prototype._processResourceType=function(n){var r=this,u=ui(ht(n.id),n.childLifetime),h={getMenuConfig:function(){return Q(ou(n.id,n.cloudName))}
},t,f="processResourceTypeGetResourceTypeAssetTypeInfoTime",s=i.startTimer();return Q(p.getResourceTypeAssetTypeInformation(n.resourceType,n.cloudName)).then((function(c){if(at(n.telemetryInfo,f,s),!u(r._id))return null;if(t=c,!rt.assetTypeInformationSupportsContract(c,8))throw new Error("No support for resource menu blade");f="processResourceTypeGetAssetTypeViewModelTime";s=i.startTimer();var l=lu(n.resource,t);return b.getExcludedResourceTypes(c.cloudName).then((function(a){var nt=n.resourceType.toLowerCase(),tt=l&&l.name.toLowerCase(),d=a&&a[nt],v,p,b,y,g,it;if(d&&(d===!0||d[tt]===!0))return r._processMenuConfig(n,!0,h,t);n.isResource&&t.bladeName&&(v=cu(t,n),v&&(v=i.clone(v),v.id=v.id||"overview",v.displayName=v.displayName||o.ResourceMenuBlade.overview,v.icon=v.icon||c.icon,v.keywords=v.keywords||o.ResourceMenuBlade.overviewKeywords,p=t.bladeName,b=t.bladeExtensionName||t.extensionName,l&&(y=l.staticOverview,y&&(v.id=y.id||v.id,v.displayName=y.displayName||v.displayName,v.keywords=y.
keywords||v.keywords),v.icon=y&&y.icon||l.icon||v.icon,p=l.bladeName||p,b=l.bladeExtensionName||b),g={id:v.id,displayText:v.displayName,icon:v.icon,keywords:v.keywords.split(" "),supplyBladeReference:function(){return k.addCloudNameToBladeReference(n.cloudName,new e.PdlBladeReference(p,b,{parameters:{id:n.id}}))}},n.telemetryInfo.telemetryStaticOverview=1,i.shallowCopyFromObject(n,n.telemetryInfo),r.menu.groups([]),it=bi(n.inputs),n.staticOverview=g));var rt={resourceId:n.id,resource:n.resource,subscription:n.subscription,cloudName:n.cloudName},ut=Q(w.getAssetTypeViewModelAndExec(c,n.cloudName,{keepReturnsIn:"getMenuConfig",tasks:[{method:"getMenuConfig",args:[rt]}]})),ft=ut.then((function(i){if(at(n.telemetryInfo,f,s),i&&u(r._id)){n.childLifetime.registerForDispose(i);var e=i.getResourceMenuConfigContract();return r._processMenuConfig(n,!1,e,t,l)}}));return n.staticOverview?null:ft}))})).catch((function(i){if(u(r._id)){if(n.isResource)return r._processMenuConfig(n,!0,h,t);throw i;}}))},t.prototype.
_processMenuConfig=function(n,t,r,u,f){var o=this,v=ui(ht(n.id),n.childLifetime),h={resourceId:n.id,resource:n.resource,subscription:n.subscription,cloudName:n.cloudName},s,a,e,l;return t&&(h=ni.addToModel(n.cloudName,h)),s=u&&u.compositeDisplayName&&u.compositeDisplayName.singular,s=f&&f.singularDisplayName||s,s?this.subtitle(s):this.subtitle(n.resourceType),a=i.startTimer(),e=i.first(r._msPortalFx_earlyExecgetMenuConfig),e||(e=r.getMenuConfig(h),l=e&&e.hold&&e.hold(),l&&n.childLifetime.registerForDispose(l)),Q(e).then((function(t){var r,f,l,e,s,h;t&&v(o._id)&&(r=n.staticOverview,!r&&t.overview&&(f=i.clone(t.overview,!0,!0),f.enabled=t.overview.enabled,l=u&&u.extensionName||c.definitionName,r=yi(n.childLifetime,l,n.cloudName,f)),e={overview:r,defaultId:undefined,resourceMenuOptions:t.options,resourceType:n.resourceType,cloudName:n.cloudName,getMenuConfigDuration:a()},i.shallowCopyFromObject(e,n.telemetryInfo),o.contentStateDisplayText(null),o.contentState(0),s=hu(n.id,n.cloudName,t.groups,
t.options,u,n.childLifetime),o.menu.groups(s),h=i.clone(e),h.defaultId=bi(n.inputs,r,s)||t.defaultItemId,o.menu.setOptions(h))}))},t.prototype.getNewSupportRequestBladeReference=function(n){return wi(n)},t})(f.ViewModel);t.ResourceMenuBlade=vu})(rt||(rt={})),rt}));define("HubsExtension/_generated/Blades/ResourceMenuBlade",["require","exports","HubsExtension/ResourceMenuBlade/ViewModels/ResourceMenuBlade"],(function(){"use strict";var n;return (function(n){n.blade={name:"ResourceMenuBlade",inputs:["id"],optionalInputs:["menuid","referrerInfo"],viewModelName:"ResourceMenuBlade$ResourceMenuBlade",lenses:[],width:51,locked:!0,assetIdInputProperty:"id",pinnable:!0,menuBlade:{},attributes:0}})(n||(n={})),n}))